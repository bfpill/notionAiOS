[debug] [2023-06-28T23:33:39.387Z] ----------------------------------------------------------------------
[debug] [2023-06-28T23:33:39.390Z] Command:       /Users/maxadam/.nvm/versions/node/v18.0.0/bin/node /usr/local/bin/firebase emulators:start
[debug] [2023-06-28T23:33:39.390Z] CLI Version:   12.4.0
[debug] [2023-06-28T23:33:39.390Z] Platform:      darwin
[debug] [2023-06-28T23:33:39.391Z] Node Version:  v18.0.0
[debug] [2023-06-28T23:33:39.392Z] Time:          Thu Jun 29 2023 09:33:39 GMT+1000 (Australian Eastern Standard Time)
[debug] [2023-06-28T23:33:39.392Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-06-28T23:33:39.569Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-06-28T23:33:39.570Z] > authorizing via signed-in user (max@v3rv.com)
[debug] [2023-06-28T23:33:39.689Z] openjdk version "11.0.17" 2022-10-18

[debug] [2023-06-28T23:33:39.690Z] OpenJDK Runtime Environment Temurin-11.0.17+8 (build 11.0.17+8)
OpenJDK 64-Bit Server VM Temurin-11.0.17+8 (build 11.0.17+8, mixed mode)

[debug] [2023-06-28T23:33:39.709Z] Parsed Java major version: 11
[info] i  emulators: Starting emulators: functions, storage {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, storage"}}
[debug] [2023-06-28T23:33:40.931Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-06-28T23:33:40.931Z] [storage] Storage Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-06-28T23:33:40.931Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"storage":[{"address":"127.0.0.1","family":"IPv4","port":9199}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-06-28T23:33:40.967Z] [hub] writing locator at /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/hub-v3rv-notionaios.json
[debug] [2023-06-28T23:33:41.575Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-06-28T23:33:41.576Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-06-28T23:33:41.576Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"storage":[{"address":"127.0.0.1","family":"IPv4","port":9199}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub\u001b[22m"}}
[debug] [2023-06-28T23:33:41.589Z] defaultcredentials: writing to file /Users/maxadam/.config/firebase/max_v3rv_com_application_default_credentials.json
[debug] [2023-06-28T23:33:41.597Z] Setting GAC to /Users/maxadam/.config/firebase/max_v3rv_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/maxadam/.config/firebase/max_v3rv_com_application_default_credentials.json"}}
[debug] [2023-06-28T23:33:41.598Z] > refreshing access token with scopes: []
[debug] [2023-06-28T23:33:41.601Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-06-28T23:33:41.601Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-06-28T23:33:41.978Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-06-28T23:33:41.978Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-06-28T23:33:42.026Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/v3rv-notionaios/adminSdkConfig [none]
[debug] [2023-06-28T23:33:42.705Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/v3rv-notionaios/adminSdkConfig 200
[debug] [2023-06-28T23:33:42.705Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/v3rv-notionaios/adminSdkConfig {"projectId":"v3rv-notionaios","storageBucket":"v3rv-notionaios.appspot.com","locationId":"us-central"}
[debug] [2023-06-28T23:33:42.766Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"storage"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-06-28T23:33:43.942Z] Temp file directory for storage emulator: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/firebase/storage/blobs {"metadata":{"emulator":{"name":"storage"},"message":"Temp file directory for storage emulator: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/firebase/storage/blobs"}}
[debug] [2023-06-28T23:33:43.977Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-06-28T23:33:43.978Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-06-28T23:33:43.978Z] Starting Emulator UI with command {"binary":"node","args":["/Users/maxadam/.cache/firebase/emulators/ui-v1.11.6/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/maxadam/.cache/firebase/emulators/ui-v1.11.6/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-06-28T23:33:44.145Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-06-28T23:33:44.145Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Users/maxadam/Desktop/Code/notionOS/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/maxadam/Desktop/Code/notionOS/functions\" for Cloud Functions..."}}
[debug] [2023-06-28T23:33:44.245Z] Validating nodejs source
[debug] [2023-06-28T23:33:45.171Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:33:45.171Z] Building nodejs source
[debug] [2023-06-28T23:33:45.172Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:33:45.179Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:33:45.188Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:33:45.478Z] Serving at port 8038

[debug] [2023-06-28T23:33:46.023Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:33:46.023Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:33:46.158Z] Setting up firebase config

[debug] [2023-06-28T23:33:46.159Z] connector initialized

[debug] [2023-06-28T23:33:46.160Z] here in the api

[debug] [2023-06-28T23:33:46.231Z] Initializing file generator

[debug] [2023-06-28T23:33:46.238Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:33:46.247Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/v3rv-notionaios/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/v3rv-notionaios/us-central1/api)."}}
[info] ✔  functions[us-central1-generateFiles]: http function initialized (http://127.0.0.1:5001/v3rv-notionaios/us-central1/generateFiles). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/v3rv-notionaios/us-central1/generateFiles)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Storage   │ 127.0.0.1:9199 │ http://127.0.0.1:4000/storage   │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-06-28T23:34:01.876Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:34:01.875Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:34:01.876Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:34:01.875Z"],"workRunningCount":1}
[debug] [2023-06-28T23:34:01.877Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-28T23:34:01.891Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:34:01.891Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-28T23:34:01.899Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-28T23:34:01.900Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-28T23:34:02.896Z] [runtime-status] [7829] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7829] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:34:02.896Z] [runtime-status] [7829] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7829] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:34:02.896Z] [runtime-status] [7829] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7829] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-28T23:34:02.897Z] [runtime-status] [7829] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7829] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-28T23:34:02.898Z] [runtime-status] [7829] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7829] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:34:03.112Z] [runtime-status] [7829] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7829] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-28T23:34:03.113Z] [runtime-status] [7829] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7829] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-28T23:34:03.113Z] [runtime-status] [7829] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7829] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:34:03.114Z] [runtime-status] [7829] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7829] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:34:03.116Z] [runtime-status] [7829] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7829] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:34:03.117Z] [runtime-status] [7829] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7829] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-28T23:34:03.435Z] [runtime-status] [7829] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7829] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-28T23:34:03.435Z] [runtime-status] [7829] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_8cb747302433ccd4.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7829] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_8cb747302433ccd4.sock"}}
[debug] [2023-06-28T23:34:03.525Z] [worker-us-central1-api-27233b44-abc7-427c-a1c1-fac1471ecc58]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27233b44-abc7-427c-a1c1-fac1471ecc58]: IDLE"}}
[debug] [2023-06-28T23:34:03.526Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:34:03.527Z] [worker-us-central1-api-27233b44-abc7-427c-a1c1-fac1471ecc58]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27233b44-abc7-427c-a1c1-fac1471ecc58]: BUSY"}}
[info] >  DocumentSnapshot { {"user":"DocumentSnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m DocumentSnapshot {"}}
[info] >    _firestore: Firestore { {"user":"  _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _firestore: Firestore {"}}
[info] >      _authCredentials: FirebaseAuthCredentialsProvider { {"user":"    _authCredentials: FirebaseAuthCredentialsProvider {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _authCredentials: FirebaseAuthCredentialsProvider {"}}
[info] >        authProvider: [Provider], {"user":"      authProvider: [Provider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       authProvider: [Provider],"}}
[info] >        currentUser: [User], {"user":"      currentUser: [User],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       currentUser: [User],"}}
[info] >        tokenCounter: 0, {"user":"      tokenCounter: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       tokenCounter: 0,"}}
[info] >        forceRefresh: false, {"user":"      forceRefresh: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       forceRefresh: false,"}}
[info] >        auth: null, {"user":"      auth: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       auth: null,"}}
[info] >        tokenListener: [Function (anonymous)] {"user":"      tokenListener: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       tokenListener: [Function (anonymous)]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _appCheckCredentials: FirebaseAppCheckTokenProvider { {"user":"    _appCheckCredentials: FirebaseAppCheckTokenProvider {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _appCheckCredentials: FirebaseAppCheckTokenProvider {"}}
[info] >        appCheckProvider: [Provider], {"user":"      appCheckProvider: [Provider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       appCheckProvider: [Provider],"}}
[info] >        forceRefresh: false, {"user":"      forceRefresh: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       forceRefresh: false,"}}
[info] >        appCheck: null, {"user":"      appCheck: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       appCheck: null,"}}
[info] >        latestAppCheckToken: null, {"user":"      latestAppCheckToken: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       latestAppCheckToken: null,"}}
[info] >        tokenListener: [Function (anonymous)] {"user":"      tokenListener: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       tokenListener: [Function (anonymous)]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _databaseId: DatabaseId { projectId: 'v3rv-notionaios', database: '(default)' }, {"user":"    _databaseId: DatabaseId { projectId: 'v3rv-notionaios', database: '(default)' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _databaseId: DatabaseId { projectId: 'v3rv-notionaios', database: '(default)' },"}}
[info] >      _app: FirebaseAppImpl { {"user":"    _app: FirebaseAppImpl {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _app: FirebaseAppImpl {"}}
[info] >        _isDeleted: false, {"user":"      _isDeleted: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _isDeleted: false,"}}
[info] >        _options: [Object], {"user":"      _options: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _options: [Object],"}}
[info] >        _config: [Object], {"user":"      _config: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _config: [Object],"}}
[info] >        _name: '[DEFAULT]', {"user":"      _name: '[DEFAULT]',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _name: '[DEFAULT]',"}}
[info] >        _automaticDataCollectionEnabled: false, {"user":"      _automaticDataCollectionEnabled: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _automaticDataCollectionEnabled: false,"}}
[info] >        _container: [ComponentContainer] {"user":"      _container: [ComponentContainer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _container: [ComponentContainer]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      type: 'firestore', {"user":"    type: 'firestore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'firestore',"}}
[info] >      _persistenceKey: '[DEFAULT]', {"user":"    _persistenceKey: '[DEFAULT]',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _persistenceKey: '[DEFAULT]',"}}
[info] >      _settings: FirestoreSettingsImpl { {"user":"    _settings: FirestoreSettingsImpl {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _settings: FirestoreSettingsImpl {"}}
[info] >        host: 'firestore.googleapis.com', {"user":"      host: 'firestore.googleapis.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       host: 'firestore.googleapis.com',"}}
[info] >        ssl: true, {"user":"      ssl: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       ssl: true,"}}
[info] >        credentials: undefined, {"user":"      credentials: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentials: undefined,"}}
[info] >        ignoreUndefinedProperties: false, {"user":"      ignoreUndefinedProperties: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       ignoreUndefinedProperties: false,"}}
[info] >        cache: undefined, {"user":"      cache: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       cache: undefined,"}}
[info] >        cacheSizeBytes: 41943040, {"user":"      cacheSizeBytes: 41943040,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       cacheSizeBytes: 41943040,"}}
[info] >        experimentalForceLongPolling: false, {"user":"      experimentalForceLongPolling: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       experimentalForceLongPolling: false,"}}
[info] >        experimentalAutoDetectLongPolling: true, {"user":"      experimentalAutoDetectLongPolling: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       experimentalAutoDetectLongPolling: true,"}}
[info] >        experimentalLongPollingOptions: {}, {"user":"      experimentalLongPollingOptions: {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       experimentalLongPollingOptions: {},"}}
[info] >        useFetchStreams: true {"user":"      useFetchStreams: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       useFetchStreams: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _settingsFrozen: true, {"user":"    _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _settingsFrozen: true,"}}
[info] >      _queue: AsyncQueueImpl { {"user":"    _queue: AsyncQueueImpl {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queue: AsyncQueueImpl {"}}
[info] >        tail: [Promise], {"user":"      tail: [Promise],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       tail: [Promise],"}}
[info] >        retryableOps: [], {"user":"      retryableOps: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       retryableOps: [],"}}
[info] >        _isShuttingDown: false, {"user":"      _isShuttingDown: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _isShuttingDown: false,"}}
[info] >        delayedOperations: [Array], {"user":"      delayedOperations: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       delayedOperations: [Array],"}}
[info] >        failure: null, {"user":"      failure: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       failure: null,"}}
[info] >        operationInProgress: true, {"user":"      operationInProgress: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       operationInProgress: true,"}}
[info] >        skipNonRestrictedTasks: false, {"user":"      skipNonRestrictedTasks: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       skipNonRestrictedTasks: false,"}}
[info] >        timerIdsToSkip: [], {"user":"      timerIdsToSkip: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       timerIdsToSkip: [],"}}
[info] >        backoff: [ExponentialBackoff], {"user":"      backoff: [ExponentialBackoff],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       backoff: [ExponentialBackoff],"}}
[info] >        visibilityHandler: [Function (anonymous)] {"user":"      visibilityHandler: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       visibilityHandler: [Function (anonymous)]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _firestoreClient: FirestoreClient { {"user":"    _firestoreClient: FirestoreClient {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestoreClient: FirestoreClient {"}}
[info] >        authCredentials: [FirebaseAuthCredentialsProvider], {"user":"      authCredentials: [FirebaseAuthCredentialsProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       authCredentials: [FirebaseAuthCredentialsProvider],"}}
[info] >        appCheckCredentials: [FirebaseAppCheckTokenProvider], {"user":"      appCheckCredentials: [FirebaseAppCheckTokenProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       appCheckCredentials: [FirebaseAppCheckTokenProvider],"}}
[info] >        asyncQueue: [AsyncQueueImpl], {"user":"      asyncQueue: [AsyncQueueImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       asyncQueue: [AsyncQueueImpl],"}}
[info] >        databaseInfo: [DatabaseInfo], {"user":"      databaseInfo: [DatabaseInfo],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       databaseInfo: [DatabaseInfo],"}}
[info] >        user: [User], {"user":"      user: [User],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       user: [User],"}}
[info] >        clientId: 'VAlxUPiIqf0SFGC74u02', {"user":"      clientId: 'VAlxUPiIqf0SFGC74u02',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       clientId: 'VAlxUPiIqf0SFGC74u02',"}}
[info] >        authCredentialListener: [Function (anonymous)], {"user":"      authCredentialListener: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       authCredentialListener: [Function (anonymous)],"}}
[info] >        appCheckCredentialListener: [Function (anonymous)], {"user":"      appCheckCredentialListener: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       appCheckCredentialListener: [Function (anonymous)],"}}
[info] >        _offlineComponents: [MemoryOfflineComponentProvider], {"user":"      _offlineComponents: [MemoryOfflineComponentProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _offlineComponents: [MemoryOfflineComponentProvider],"}}
[info] >        _onlineComponents: [OnlineComponentProvider] {"user":"      _onlineComponents: [OnlineComponentProvider]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _onlineComponents: [OnlineComponentProvider]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _userDataWriter: ExpUserDataWriter { {"user":"  _userDataWriter: ExpUserDataWriter {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _userDataWriter: ExpUserDataWriter {"}}
[info] >      firestore: Firestore { {"user":"    firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     firestore: Firestore {"}}
[info] >        _authCredentials: [FirebaseAuthCredentialsProvider], {"user":"      _authCredentials: [FirebaseAuthCredentialsProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _authCredentials: [FirebaseAuthCredentialsProvider],"}}
[info] >        _appCheckCredentials: [FirebaseAppCheckTokenProvider], {"user":"      _appCheckCredentials: [FirebaseAppCheckTokenProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _appCheckCredentials: [FirebaseAppCheckTokenProvider],"}}
[info] >        _databaseId: [DatabaseId], {"user":"      _databaseId: [DatabaseId],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: [DatabaseId],"}}
[info] >        _app: [FirebaseAppImpl], {"user":"      _app: [FirebaseAppImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _app: [FirebaseAppImpl],"}}
[info] >        type: 'firestore', {"user":"      type: 'firestore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'firestore',"}}
[info] >        _persistenceKey: '[DEFAULT]', {"user":"      _persistenceKey: '[DEFAULT]',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _persistenceKey: '[DEFAULT]',"}}
[info] >        _settings: [FirestoreSettingsImpl], {"user":"      _settings: [FirestoreSettingsImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [FirestoreSettingsImpl],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _queue: [AsyncQueueImpl], {"user":"      _queue: [AsyncQueueImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queue: [AsyncQueueImpl],"}}
[info] >        _firestoreClient: [FirestoreClient] {"user":"      _firestoreClient: [FirestoreClient]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestoreClient: [FirestoreClient]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _key: DocumentKey { {"user":"  _key: DocumentKey {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _key: DocumentKey {"}}
[info] >      path: ResourcePath { segments: [Array], offset: 0, len: 2 } {"user":"    path: ResourcePath { segments: [Array], offset: 0, len: 2 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     path: ResourcePath { segments: [Array], offset: 0, len: 2 }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _document: MutableDocument { {"user":"  _document: MutableDocument {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _document: MutableDocument {"}}
[info] >      key: DocumentKey { path: [ResourcePath] }, {"user":"    key: DocumentKey { path: [ResourcePath] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     key: DocumentKey { path: [ResourcePath] },"}}
[info] >      documentType: 1, {"user":"    documentType: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     documentType: 1,"}}
[info] >      version: SnapshotVersion { timestamp: [Timestamp] }, {"user":"    version: SnapshotVersion { timestamp: [Timestamp] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     version: SnapshotVersion { timestamp: [Timestamp] },"}}
[info] >      readTime: SnapshotVersion { timestamp: [Timestamp] }, {"user":"    readTime: SnapshotVersion { timestamp: [Timestamp] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     readTime: SnapshotVersion { timestamp: [Timestamp] },"}}
[info] >      createTime: SnapshotVersion { timestamp: [Timestamp] }, {"user":"    createTime: SnapshotVersion { timestamp: [Timestamp] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     createTime: SnapshotVersion { timestamp: [Timestamp] },"}}
[info] >      data: ObjectValue { value: [Object] }, {"user":"    data: ObjectValue { value: [Object] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     data: ObjectValue { value: [Object] },"}}
[info] >      documentState: 0 {"user":"    documentState: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     documentState: 0"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _converter: null, {"user":"  _converter: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _converter: null,"}}
[info] >    _firestoreImpl: Firestore { {"user":"  _firestoreImpl: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _firestoreImpl: Firestore {"}}
[info] >      _authCredentials: FirebaseAuthCredentialsProvider { {"user":"    _authCredentials: FirebaseAuthCredentialsProvider {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _authCredentials: FirebaseAuthCredentialsProvider {"}}
[info] >        authProvider: [Provider], {"user":"      authProvider: [Provider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       authProvider: [Provider],"}}
[info] >        currentUser: [User], {"user":"      currentUser: [User],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       currentUser: [User],"}}
[info] >        tokenCounter: 0, {"user":"      tokenCounter: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       tokenCounter: 0,"}}
[info] >        forceRefresh: false, {"user":"      forceRefresh: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       forceRefresh: false,"}}
[info] >        auth: null, {"user":"      auth: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       auth: null,"}}
[info] >        tokenListener: [Function (anonymous)] {"user":"      tokenListener: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       tokenListener: [Function (anonymous)]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _appCheckCredentials: FirebaseAppCheckTokenProvider { {"user":"    _appCheckCredentials: FirebaseAppCheckTokenProvider {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _appCheckCredentials: FirebaseAppCheckTokenProvider {"}}
[info] >        appCheckProvider: [Provider], {"user":"      appCheckProvider: [Provider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       appCheckProvider: [Provider],"}}
[info] >        forceRefresh: false, {"user":"      forceRefresh: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       forceRefresh: false,"}}
[info] >        appCheck: null, {"user":"      appCheck: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       appCheck: null,"}}
[info] >        latestAppCheckToken: null, {"user":"      latestAppCheckToken: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       latestAppCheckToken: null,"}}
[info] >        tokenListener: [Function (anonymous)] {"user":"      tokenListener: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       tokenListener: [Function (anonymous)]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _databaseId: DatabaseId { projectId: 'v3rv-notionaios', database: '(default)' }, {"user":"    _databaseId: DatabaseId { projectId: 'v3rv-notionaios', database: '(default)' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _databaseId: DatabaseId { projectId: 'v3rv-notionaios', database: '(default)' },"}}
[info] >      _app: FirebaseAppImpl { {"user":"    _app: FirebaseAppImpl {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _app: FirebaseAppImpl {"}}
[info] >        _isDeleted: false, {"user":"      _isDeleted: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _isDeleted: false,"}}
[info] >        _options: [Object], {"user":"      _options: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _options: [Object],"}}
[info] >        _config: [Object], {"user":"      _config: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _config: [Object],"}}
[info] >        _name: '[DEFAULT]', {"user":"      _name: '[DEFAULT]',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _name: '[DEFAULT]',"}}
[info] >        _automaticDataCollectionEnabled: false, {"user":"      _automaticDataCollectionEnabled: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _automaticDataCollectionEnabled: false,"}}
[info] >        _container: [ComponentContainer] {"user":"      _container: [ComponentContainer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _container: [ComponentContainer]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      type: 'firestore', {"user":"    type: 'firestore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'firestore',"}}
[info] >      _persistenceKey: '[DEFAULT]', {"user":"    _persistenceKey: '[DEFAULT]',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _persistenceKey: '[DEFAULT]',"}}
[info] >      _settings: FirestoreSettingsImpl { {"user":"    _settings: FirestoreSettingsImpl {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _settings: FirestoreSettingsImpl {"}}
[info] >        host: 'firestore.googleapis.com', {"user":"      host: 'firestore.googleapis.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       host: 'firestore.googleapis.com',"}}
[info] >        ssl: true, {"user":"      ssl: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       ssl: true,"}}
[info] >        credentials: undefined, {"user":"      credentials: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentials: undefined,"}}
[info] >        ignoreUndefinedProperties: false, {"user":"      ignoreUndefinedProperties: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       ignoreUndefinedProperties: false,"}}
[info] >        cache: undefined, {"user":"      cache: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       cache: undefined,"}}
[info] >        cacheSizeBytes: 41943040, {"user":"      cacheSizeBytes: 41943040,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       cacheSizeBytes: 41943040,"}}
[info] >        experimentalForceLongPolling: false, {"user":"      experimentalForceLongPolling: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       experimentalForceLongPolling: false,"}}
[info] >        experimentalAutoDetectLongPolling: true, {"user":"      experimentalAutoDetectLongPolling: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       experimentalAutoDetectLongPolling: true,"}}
[info] >        experimentalLongPollingOptions: {}, {"user":"      experimentalLongPollingOptions: {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       experimentalLongPollingOptions: {},"}}
[info] >        useFetchStreams: true {"user":"      useFetchStreams: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       useFetchStreams: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _settingsFrozen: true, {"user":"    _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _settingsFrozen: true,"}}
[info] >      _queue: AsyncQueueImpl { {"user":"    _queue: AsyncQueueImpl {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queue: AsyncQueueImpl {"}}
[info] >        tail: [Promise], {"user":"      tail: [Promise],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       tail: [Promise],"}}
[info] >        retryableOps: [], {"user":"      retryableOps: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       retryableOps: [],"}}
[info] >        _isShuttingDown: false, {"user":"      _isShuttingDown: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _isShuttingDown: false,"}}
[info] >        delayedOperations: [Array], {"user":"      delayedOperations: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       delayedOperations: [Array],"}}
[info] >        failure: null, {"user":"      failure: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       failure: null,"}}
[info] >        operationInProgress: true, {"user":"      operationInProgress: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       operationInProgress: true,"}}
[info] >        skipNonRestrictedTasks: false, {"user":"      skipNonRestrictedTasks: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       skipNonRestrictedTasks: false,"}}
[info] >        timerIdsToSkip: [], {"user":"      timerIdsToSkip: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       timerIdsToSkip: [],"}}
[info] >        backoff: [ExponentialBackoff], {"user":"      backoff: [ExponentialBackoff],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       backoff: [ExponentialBackoff],"}}
[info] >        visibilityHandler: [Function (anonymous)] {"user":"      visibilityHandler: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       visibilityHandler: [Function (anonymous)]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _firestoreClient: FirestoreClient { {"user":"    _firestoreClient: FirestoreClient {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestoreClient: FirestoreClient {"}}
[info] >        authCredentials: [FirebaseAuthCredentialsProvider], {"user":"      authCredentials: [FirebaseAuthCredentialsProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       authCredentials: [FirebaseAuthCredentialsProvider],"}}
[info] >        appCheckCredentials: [FirebaseAppCheckTokenProvider], {"user":"      appCheckCredentials: [FirebaseAppCheckTokenProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       appCheckCredentials: [FirebaseAppCheckTokenProvider],"}}
[info] >        asyncQueue: [AsyncQueueImpl], {"user":"      asyncQueue: [AsyncQueueImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       asyncQueue: [AsyncQueueImpl],"}}
[info] >        databaseInfo: [DatabaseInfo], {"user":"      databaseInfo: [DatabaseInfo],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       databaseInfo: [DatabaseInfo],"}}
[info] >        user: [User], {"user":"      user: [User],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       user: [User],"}}
[info] >        clientId: 'VAlxUPiIqf0SFGC74u02', {"user":"      clientId: 'VAlxUPiIqf0SFGC74u02',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       clientId: 'VAlxUPiIqf0SFGC74u02',"}}
[info] >        authCredentialListener: [Function (anonymous)], {"user":"      authCredentialListener: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       authCredentialListener: [Function (anonymous)],"}}
[info] >        appCheckCredentialListener: [Function (anonymous)], {"user":"      appCheckCredentialListener: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       appCheckCredentialListener: [Function (anonymous)],"}}
[info] >        _offlineComponents: [MemoryOfflineComponentProvider], {"user":"      _offlineComponents: [MemoryOfflineComponentProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _offlineComponents: [MemoryOfflineComponentProvider],"}}
[info] >        _onlineComponents: [OnlineComponentProvider] {"user":"      _onlineComponents: [OnlineComponentProvider]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _onlineComponents: [OnlineComponentProvider]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    metadata: SnapshotMetadata { hasPendingWrites: false, fromCache: false } {"user":"  metadata: SnapshotMetadata { hasPendingWrites: false, fromCache: false }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: SnapshotMetadata { hasPendingWrites: false, fromCache: false }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-28T23:34:04.366Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 839.687603ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 839.687603ms"}}
[debug] [2023-06-28T23:34:04.366Z] [worker-us-central1-api-27233b44-abc7-427c-a1c1-fac1471ecc58]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27233b44-abc7-427c-a1c1-fac1471ecc58]: IDLE"}}
[debug] [2023-06-28T23:34:04.367Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:34:04.367Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:34:04.367Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:35:04.171Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:35:05.173Z] Validating nodejs source
[debug] [2023-06-28T23:35:06.221Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:35:06.222Z] Building nodejs source
[debug] [2023-06-28T23:35:06.222Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:35:06.223Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:35:06.225Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:35:06.591Z] Serving at port 8608

[debug] [2023-06-28T23:35:07.131Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:35:07.131Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:35:07.253Z] Setting up firebase config

[debug] [2023-06-28T23:35:07.254Z] connector initialized

[debug] [2023-06-28T23:35:07.255Z] here in the api

[debug] [2023-06-28T23:35:07.322Z] Initializing file generator

[debug] [2023-06-28T23:35:07.329Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:35:07.337Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:35:07.354Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-28T23:35:07.355Z] [worker-us-central1-api-27233b44-abc7-427c-a1c1-fac1471ecc58]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27233b44-abc7-427c-a1c1-fac1471ecc58]: FINISHING"}}
[debug] [2023-06-28T23:35:07.371Z] [worker-us-central1-api-27233b44-abc7-427c-a1c1-fac1471ecc58]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27233b44-abc7-427c-a1c1-fac1471ecc58]: exited"}}
[debug] [2023-06-28T23:35:07.372Z] [worker-us-central1-api-27233b44-abc7-427c-a1c1-fac1471ecc58]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27233b44-abc7-427c-a1c1-fac1471ecc58]: FINISHED"}}
[debug] [2023-06-28T23:35:14.721Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.722Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.722Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.722Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.722Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.723Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.723Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.723Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.723Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.723Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.724Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.724Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.724Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.724Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.724Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.724Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.724Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.725Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.725Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.725Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.725Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:35:14.725Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-28T23:35:15.728Z] Validating nodejs source
[debug] [2023-06-28T23:35:16.747Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:35:16.748Z] Building nodejs source
[debug] [2023-06-28T23:35:16.748Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:35:16.751Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:35:16.753Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:35:17.047Z] Serving at port 8483

[debug] [2023-06-28T23:35:17.579Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:35:17.580Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:35:17.709Z] Setting up firebase config

[debug] [2023-06-28T23:35:17.710Z] connector initialized

[debug] [2023-06-28T23:35:17.711Z] here in the api

[debug] [2023-06-28T23:35:17.785Z] Initializing file generator

[debug] [2023-06-28T23:35:17.792Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:35:17.801Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:35:18.530Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:35:18.530Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:35:18.530Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:35:18.530Z"],"workRunningCount":1}
[debug] [2023-06-28T23:35:18.530Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-28T23:35:18.545Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:35:18.546Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-28T23:35:18.546Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-28T23:35:18.552Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-28T23:35:18.553Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-28T23:35:20.201Z] [runtime-status] [7866] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7866] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:35:20.202Z] [runtime-status] [7866] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7866] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:35:20.203Z] [runtime-status] [7866] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7866] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-28T23:35:20.203Z] [runtime-status] [7866] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7866] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-28T23:35:20.204Z] [runtime-status] [7866] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7866] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:35:20.440Z] [runtime-status] [7866] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7866] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-28T23:35:20.440Z] [runtime-status] [7866] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7866] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-28T23:35:20.441Z] [runtime-status] [7866] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7866] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:35:20.442Z] [runtime-status] [7866] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7866] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:35:20.444Z] [runtime-status] [7866] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7866] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:35:20.444Z] [runtime-status] [7866] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7866] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-28T23:35:20.875Z] [runtime-status] [7866] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7866] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-28T23:35:20.875Z] [runtime-status] [7866] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_a37597473ec8a631.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7866] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_a37597473ec8a631.sock"}}
[debug] [2023-06-28T23:35:20.891Z] [worker-us-central1-api-7ebd055b-dd2e-4690-bdc6-54e3a6e8b309]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7ebd055b-dd2e-4690-bdc6-54e3a6e8b309]: IDLE"}}
[debug] [2023-06-28T23:35:20.891Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:35:20.892Z] [worker-us-central1-api-7ebd055b-dd2e-4690-bdc6-54e3a6e8b309]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7ebd055b-dd2e-4690-bdc6-54e3a6e8b309]: BUSY"}}
[debug] [2023-06-28T23:35:21.562Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 670.629501ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 670.629501ms"}}
[debug] [2023-06-28T23:35:21.563Z] [worker-us-central1-api-7ebd055b-dd2e-4690-bdc6-54e3a6e8b309]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7ebd055b-dd2e-4690-bdc6-54e3a6e8b309]: IDLE"}}
[debug] [2023-06-28T23:35:21.563Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:35:21.563Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:35:21.563Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:36:09.602Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:36:10.604Z] Validating nodejs source
[debug] [2023-06-28T23:36:11.380Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:36:11.380Z] Building nodejs source
[debug] [2023-06-28T23:36:11.380Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:36:11.381Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:36:11.383Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:36:11.663Z] Serving at port 8236

[debug] [2023-06-28T23:36:12.054Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:36:12.054Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:36:12.137Z] Setting up firebase config

[debug] [2023-06-28T23:36:12.138Z] connector initialized

[debug] [2023-06-28T23:36:12.139Z] here in the api

[debug] [2023-06-28T23:36:12.177Z] Initializing file generator

[debug] [2023-06-28T23:36:12.185Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:36:12.190Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:36:12.204Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-28T23:36:12.204Z] [worker-us-central1-api-7ebd055b-dd2e-4690-bdc6-54e3a6e8b309]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7ebd055b-dd2e-4690-bdc6-54e3a6e8b309]: FINISHING"}}
[debug] [2023-06-28T23:36:12.214Z] [worker-us-central1-api-7ebd055b-dd2e-4690-bdc6-54e3a6e8b309]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7ebd055b-dd2e-4690-bdc6-54e3a6e8b309]: exited"}}
[debug] [2023-06-28T23:36:12.214Z] [worker-us-central1-api-7ebd055b-dd2e-4690-bdc6-54e3a6e8b309]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7ebd055b-dd2e-4690-bdc6-54e3a6e8b309]: FINISHED"}}
[debug] [2023-06-28T23:36:53.827Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:36:54.828Z] Validating nodejs source
[debug] [2023-06-28T23:36:55.551Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:36:55.552Z] Building nodejs source
[debug] [2023-06-28T23:36:55.552Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:36:55.553Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:36:55.554Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:36:55.762Z] Serving at port 8886

[debug] [2023-06-28T23:36:56.121Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:36:56.121Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:36:56.193Z] Setting up firebase config

[debug] [2023-06-28T23:36:56.194Z] connector initialized

[debug] [2023-06-28T23:36:56.194Z] here in the api

[debug] [2023-06-28T23:36:56.229Z] Initializing file generator

[debug] [2023-06-28T23:36:56.236Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:36:56.240Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:36:59.257Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:37:00.259Z] Validating nodejs source
[debug] [2023-06-28T23:37:01.130Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:37:01.131Z] Building nodejs source
[debug] [2023-06-28T23:37:01.131Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:37:01.132Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:37:01.133Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:37:01.397Z] Serving at port 8138

[debug] [2023-06-28T23:37:01.903Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:37:01.903Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:37:01.977Z] Setting up firebase config

[debug] [2023-06-28T23:37:01.978Z] connector initialized

[debug] [2023-06-28T23:37:01.979Z] here in the api

[debug] [2023-06-28T23:37:02.013Z] Initializing file generator

[debug] [2023-06-28T23:37:02.020Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:37:02.024Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:37:12.090Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:37:12.090Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:37:12.090Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:37:12.090Z"],"workRunningCount":1}
[debug] [2023-06-28T23:37:12.090Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-28T23:37:12.105Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:37:12.106Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-28T23:37:12.106Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-28T23:37:12.112Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-28T23:37:12.113Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-28T23:37:13.114Z] [runtime-status] [7907] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7907] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:37:13.116Z] [runtime-status] [7907] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7907] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:37:13.116Z] [runtime-status] [7907] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7907] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-28T23:37:13.116Z] [runtime-status] [7907] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7907] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-28T23:37:13.117Z] [runtime-status] [7907] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7907] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:37:13.329Z] [runtime-status] [7907] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7907] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-28T23:37:13.329Z] [runtime-status] [7907] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7907] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-28T23:37:13.330Z] [runtime-status] [7907] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7907] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:37:13.334Z] [runtime-status] [7907] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7907] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:37:13.336Z] [runtime-status] [7907] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7907] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:37:13.336Z] [runtime-status] [7907] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7907] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-28T23:37:13.668Z] [runtime-status] [7907] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7907] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-28T23:37:13.669Z] [runtime-status] [7907] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_de6a6c8d0c4000c3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7907] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_de6a6c8d0c4000c3.sock"}}
[debug] [2023-06-28T23:37:13.741Z] [worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: IDLE"}}
[debug] [2023-06-28T23:37:13.741Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:37:13.742Z] [worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: BUSY"}}
[debug] [2023-06-28T23:37:14.913Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1172.216844ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1172.216844ms"}}
[debug] [2023-06-28T23:37:14.915Z] [worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: IDLE"}}
[debug] [2023-06-28T23:37:14.915Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:37:14.916Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:37:14.916Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:37:22.931Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:37:22.931Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:37:22.932Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:37:22.931Z"],"workRunningCount":1}
[debug] [2023-06-28T23:37:22.932Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-28T23:37:22.946Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:37:22.946Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-28T23:37:22.946Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:37:22.946Z] [worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: BUSY"}}
[debug] [2023-06-28T23:37:23.541Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 594.994366ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 594.994366ms"}}
[debug] [2023-06-28T23:37:23.542Z] [worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: IDLE"}}
[debug] [2023-06-28T23:37:23.542Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:37:23.542Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:37:23.542Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:37:44.163Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:37:44.163Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:37:44.164Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:37:44.163Z"],"workRunningCount":1}
[debug] [2023-06-28T23:37:44.164Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-28T23:37:44.177Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:37:44.177Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-28T23:37:44.178Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:37:44.178Z] [worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: BUSY"}}
[debug] [2023-06-28T23:37:44.425Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 247.27989ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 247.27989ms"}}
[debug] [2023-06-28T23:37:44.425Z] [worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: IDLE"}}
[debug] [2023-06-28T23:37:44.425Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:37:44.426Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:37:44.426Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:38:10.817Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:38:11.818Z] Validating nodejs source
[debug] [2023-06-28T23:38:12.652Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:38:12.652Z] Building nodejs source
[debug] [2023-06-28T23:38:12.652Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:38:12.653Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:38:12.655Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:38:12.903Z] Serving at port 8140

[debug] [2023-06-28T23:38:13.265Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:38:13.265Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:38:13.338Z] Setting up firebase config

[debug] [2023-06-28T23:38:13.339Z] connector initialized

[debug] [2023-06-28T23:38:13.339Z] here in the api

[debug] [2023-06-28T23:38:13.374Z] Initializing file generator

[debug] [2023-06-28T23:38:13.381Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:38:13.386Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:38:13.397Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-28T23:38:13.397Z] [worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: FINISHING"}}
[debug] [2023-06-28T23:38:13.407Z] [worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: exited"}}
[debug] [2023-06-28T23:38:13.407Z] [worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e6a2ec5-941b-4db1-b99d-718ec93cdb7f]: FINISHED"}}
[debug] [2023-06-28T23:38:16.460Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:38:16.460Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:38:16.460Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:38:16.460Z"],"workRunningCount":1}
[debug] [2023-06-28T23:38:16.460Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-28T23:38:16.474Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:38:16.474Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-28T23:38:16.474Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-28T23:38:16.480Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-28T23:38:16.481Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-28T23:38:17.490Z] [runtime-status] [7921] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7921] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:38:17.491Z] [runtime-status] [7921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:38:17.491Z] [runtime-status] [7921] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7921] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-28T23:38:17.492Z] [runtime-status] [7921] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7921] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-28T23:38:17.493Z] [runtime-status] [7921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:38:17.711Z] [runtime-status] [7921] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7921] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-28T23:38:17.711Z] [runtime-status] [7921] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7921] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-28T23:38:17.712Z] [runtime-status] [7921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:38:17.713Z] [runtime-status] [7921] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7921] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:38:17.715Z] [runtime-status] [7921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:38:17.716Z] [runtime-status] [7921] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7921] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-28T23:38:18.048Z] [runtime-status] [7921] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7921] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-28T23:38:18.048Z] [runtime-status] [7921] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_a2d86779abd7d99a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7921] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_a2d86779abd7d99a.sock"}}
[debug] [2023-06-28T23:38:18.110Z] [worker-us-central1-api-b7e2db06-087b-49da-a80b-8483fff4dd16]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b7e2db06-087b-49da-a80b-8483fff4dd16]: IDLE"}}
[debug] [2023-06-28T23:38:18.111Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:38:18.112Z] [worker-us-central1-api-b7e2db06-087b-49da-a80b-8483fff4dd16]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b7e2db06-087b-49da-a80b-8483fff4dd16]: BUSY"}}
[debug] [2023-06-28T23:38:19.647Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1535.9819499999999ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1535.9819499999999ms"}}
[debug] [2023-06-28T23:38:19.648Z] [worker-us-central1-api-b7e2db06-087b-49da-a80b-8483fff4dd16]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b7e2db06-087b-49da-a80b-8483fff4dd16]: IDLE"}}
[debug] [2023-06-28T23:38:19.648Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:38:19.648Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:38:19.648Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:38:47.887Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:38:48.890Z] Validating nodejs source
[debug] [2023-06-28T23:38:49.653Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:38:49.653Z] Building nodejs source
[debug] [2023-06-28T23:38:49.653Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:38:49.654Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:38:49.655Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:38:49.912Z] Serving at port 8214

[debug] [2023-06-28T23:38:50.281Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:38:50.281Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:38:50.352Z] Setting up firebase config

[debug] [2023-06-28T23:38:50.353Z] connector initialized

[debug] [2023-06-28T23:38:50.353Z] here in the api

[debug] [2023-06-28T23:38:50.386Z] Initializing file generator

[debug] [2023-06-28T23:38:50.393Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:38:50.397Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:38:50.409Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-28T23:38:50.409Z] [worker-us-central1-api-b7e2db06-087b-49da-a80b-8483fff4dd16]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b7e2db06-087b-49da-a80b-8483fff4dd16]: FINISHING"}}
[debug] [2023-06-28T23:38:50.418Z] [worker-us-central1-api-b7e2db06-087b-49da-a80b-8483fff4dd16]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b7e2db06-087b-49da-a80b-8483fff4dd16]: exited"}}
[debug] [2023-06-28T23:38:50.418Z] [worker-us-central1-api-b7e2db06-087b-49da-a80b-8483fff4dd16]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b7e2db06-087b-49da-a80b-8483fff4dd16]: FINISHED"}}
[debug] [2023-06-28T23:39:15.888Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.889Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.889Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.889Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.890Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.890Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.890Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.890Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.890Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.891Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.891Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.891Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.891Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.891Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.891Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.892Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.892Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.892Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.892Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.892Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.892Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:39:15.892Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-28T23:39:16.894Z] Validating nodejs source
[debug] [2023-06-28T23:39:17.868Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:39:17.869Z] Building nodejs source
[debug] [2023-06-28T23:39:17.869Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:39:17.871Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:39:17.873Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:39:18.168Z] Serving at port 8152

[debug] [2023-06-28T23:39:18.687Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:39:18.687Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:39:18.819Z] Setting up firebase config

[debug] [2023-06-28T23:39:18.820Z] connector initialized

[debug] [2023-06-28T23:39:18.820Z] here in the api

[debug] [2023-06-28T23:39:18.891Z] Initializing file generator

[debug] [2023-06-28T23:39:18.898Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:39:18.908Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:39:19.689Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:39:19.689Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:39:19.689Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:39:19.689Z"],"workRunningCount":1}
[debug] [2023-06-28T23:39:19.689Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-28T23:39:19.706Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:39:19.706Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-28T23:39:19.707Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-28T23:39:19.715Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-28T23:39:19.716Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-28T23:39:21.282Z] [runtime-status] [7966] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7966] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:39:21.284Z] [runtime-status] [7966] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7966] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:39:21.284Z] [runtime-status] [7966] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7966] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-28T23:39:21.284Z] [runtime-status] [7966] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7966] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-28T23:39:21.285Z] [runtime-status] [7966] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7966] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:39:21.496Z] [runtime-status] [7966] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7966] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-28T23:39:21.496Z] [runtime-status] [7966] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7966] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-28T23:39:21.497Z] [runtime-status] [7966] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7966] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:39:21.498Z] [runtime-status] [7966] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7966] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:39:21.500Z] [runtime-status] [7966] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7966] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:39:21.500Z] [runtime-status] [7966] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7966] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-28T23:39:21.830Z] [runtime-status] [7966] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7966] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-28T23:39:21.830Z] [runtime-status] [7966] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_949078f4fdd3dbeb.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7966] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_949078f4fdd3dbeb.sock"}}
[debug] [2023-06-28T23:39:21.847Z] [worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: IDLE"}}
[debug] [2023-06-28T23:39:21.848Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:39:21.849Z] [worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: BUSY"}}
[debug] [2023-06-28T23:39:23.090Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1241.522008ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1241.522008ms"}}
[debug] [2023-06-28T23:39:23.091Z] [worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: IDLE"}}
[debug] [2023-06-28T23:39:23.091Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:39:23.091Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:39:23.091Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:39:52.480Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:39:52.480Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:39:52.480Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:39:52.480Z"],"workRunningCount":1}
[debug] [2023-06-28T23:39:52.480Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-28T23:39:52.494Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:39:52.494Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-28T23:39:52.494Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:39:52.494Z] [worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: BUSY"}}
[info] >  project doesn't exist {"user":"project doesn't exist","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m project doesn't exist"}}
[debug] [2023-06-28T23:39:52.740Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 246.252718ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 246.252718ms"}}
[debug] [2023-06-28T23:39:52.741Z] [worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: IDLE"}}
[debug] [2023-06-28T23:39:52.741Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:39:52.741Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:39:52.741Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:40:00.658Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:40:00.658Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:40:00.658Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:40:00.658Z"],"workRunningCount":1}
[debug] [2023-06-28T23:40:00.658Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-28T23:40:00.671Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:40:00.671Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-28T23:40:00.671Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:40:00.672Z] [worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: BUSY"}}
[debug] [2023-06-28T23:40:00.919Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 247.573247ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 247.573247ms"}}
[debug] [2023-06-28T23:40:00.919Z] [worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: IDLE"}}
[debug] [2023-06-28T23:40:00.920Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:40:00.920Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:40:00.920Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:40:14.826Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:40:14.825Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:40:14.826Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:40:14.825Z"],"workRunningCount":1}
[debug] [2023-06-28T23:40:14.826Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-28T23:40:14.839Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:40:14.839Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-28T23:40:14.839Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:40:14.839Z] [worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: BUSY"}}
[info] >  adding to root {"user":"adding to root","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m adding to root"}}
[warn] ⚠  External network resource requested!
   - URL: "https://api.notion.com/v1/pages"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://api.notion.com/v1/pages\"\n - Be careful, this may be a production service."}}
[info] >  Added page: { {"user":"Added page: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Added page: {"}}
[info] >    name: 'file2', {"user":"  name: 'file2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'file2',"}}
[info] >    id: 'e1411cab-2b99-49e6-94cb-b85eb99e64ea', {"user":"  id: 'e1411cab-2b99-49e6-94cb-b85eb99e64ea',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'e1411cab-2b99-49e6-94cb-b85eb99e64ea',"}}
[info] >    type: 'file', {"user":"  type: 'file',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'file',"}}
[info] >    content: '' {"user":"  content: ''","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   content: ''"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-28T23:40:16.553Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1713.568968ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1713.568968ms"}}
[debug] [2023-06-28T23:40:16.553Z] [worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: IDLE"}}
[debug] [2023-06-28T23:40:16.553Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:40:16.553Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:40:16.553Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:41:02.426Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:41:02.426Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:41:02.426Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:41:02.426Z"],"workRunningCount":1}
[debug] [2023-06-28T23:41:02.426Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-28T23:41:02.439Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:41:02.439Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-28T23:41:02.439Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:41:02.440Z] [worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: BUSY"}}
[debug] [2023-06-28T23:41:02.957Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 517.387278ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 517.387278ms"}}
[debug] [2023-06-28T23:41:02.958Z] [worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: IDLE"}}
[debug] [2023-06-28T23:41:02.958Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:41:02.958Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:41:02.958Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:41:25.223Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:41:26.225Z] Validating nodejs source
[debug] [2023-06-28T23:41:27.013Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:41:27.014Z] Building nodejs source
[debug] [2023-06-28T23:41:27.014Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:41:27.015Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:41:27.017Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:41:27.347Z] Serving at port 8355

[debug] [2023-06-28T23:41:27.715Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:41:27.715Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:41:27.788Z] Setting up firebase config

[debug] [2023-06-28T23:41:27.789Z] connector initialized

[debug] [2023-06-28T23:41:27.790Z] here in the api

[debug] [2023-06-28T23:41:27.824Z] Initializing file generator

[debug] [2023-06-28T23:41:27.831Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:41:27.836Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:41:27.848Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-28T23:41:27.848Z] [worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: FINISHING"}}
[debug] [2023-06-28T23:41:27.860Z] [worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: exited"}}
[debug] [2023-06-28T23:41:27.860Z] [worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-722e450f-6f8f-40dd-a18b-c632b49f7551]: FINISHED"}}
[debug] [2023-06-28T23:41:37.783Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.783Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.783Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.783Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.784Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.784Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.784Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.784Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.784Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.784Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.784Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.785Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.785Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.785Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.785Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.785Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.785Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.785Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.785Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.786Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.786Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:41:37.786Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-28T23:41:38.788Z] Validating nodejs source
[debug] [2023-06-28T23:41:39.951Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:41:39.951Z] Building nodejs source
[debug] [2023-06-28T23:41:39.951Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:41:39.952Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:41:39.953Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:41:40.273Z] Serving at port 8135

[debug] [2023-06-28T23:41:40.921Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:41:40.921Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:41:41.030Z] Setting up firebase config

[debug] [2023-06-28T23:41:41.031Z] connector initialized

[debug] [2023-06-28T23:41:41.032Z] here in the api

[debug] [2023-06-28T23:41:41.066Z] Initializing file generator

[debug] [2023-06-28T23:41:41.073Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:41:41.077Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:42:05.212Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:42:05.212Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:42:05.213Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:42:05.212Z"],"workRunningCount":1}
[debug] [2023-06-28T23:42:05.213Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-28T23:42:05.227Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:42:05.227Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-28T23:42:05.227Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-28T23:42:05.233Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-28T23:42:05.234Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-28T23:42:06.944Z] [runtime-status] [8037] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8037] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:42:06.945Z] [runtime-status] [8037] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8037] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:42:06.945Z] [runtime-status] [8037] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8037] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-28T23:42:06.946Z] [runtime-status] [8037] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8037] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-28T23:42:06.947Z] [runtime-status] [8037] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8037] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:42:07.161Z] [runtime-status] [8037] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8037] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-28T23:42:07.161Z] [runtime-status] [8037] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8037] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-28T23:42:07.162Z] [runtime-status] [8037] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8037] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:42:07.163Z] [runtime-status] [8037] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8037] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:42:07.165Z] [runtime-status] [8037] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8037] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:42:07.165Z] [runtime-status] [8037] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8037] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-28T23:42:07.491Z] [runtime-status] [8037] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8037] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-28T23:42:07.491Z] [runtime-status] [8037] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_310f6f23f986a7e0.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8037] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_310f6f23f986a7e0.sock"}}
[debug] [2023-06-28T23:42:07.566Z] [worker-us-central1-api-a576511a-822e-4669-9472-b70495302d4d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a576511a-822e-4669-9472-b70495302d4d]: IDLE"}}
[debug] [2023-06-28T23:42:07.566Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:42:07.567Z] [worker-us-central1-api-a576511a-822e-4669-9472-b70495302d4d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a576511a-822e-4669-9472-b70495302d4d]: BUSY"}}
[info] >  No project with id: A2hEYeTuc8Z9Y0IVwXwa found. {"user":"No project with id: A2hEYeTuc8Z9Y0IVwXwa found.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m No project with id: A2hEYeTuc8Z9Y0IVwXwa found."}}
[debug] [2023-06-28T23:42:08.810Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1242.865264ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1242.865264ms"}}
[debug] [2023-06-28T23:42:08.810Z] [worker-us-central1-api-a576511a-822e-4669-9472-b70495302d4d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a576511a-822e-4669-9472-b70495302d4d]: IDLE"}}
[debug] [2023-06-28T23:42:08.810Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:42:08.810Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:42:08.810Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:44:13.566Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:44:14.568Z] Validating nodejs source
[debug] [2023-06-28T23:44:15.374Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:44:15.375Z] Building nodejs source
[debug] [2023-06-28T23:44:15.375Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:44:15.376Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:44:15.378Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:44:15.598Z] Serving at port 8968

[debug] [2023-06-28T23:44:15.957Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:44:15.958Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:44:16.032Z] Setting up firebase config

[debug] [2023-06-28T23:44:16.033Z] connector initialized

[debug] [2023-06-28T23:44:16.033Z] here in the api

[debug] [2023-06-28T23:44:16.068Z] Initializing file generator

[debug] [2023-06-28T23:44:16.074Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:44:16.078Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:44:16.090Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-28T23:44:16.090Z] [worker-us-central1-api-a576511a-822e-4669-9472-b70495302d4d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a576511a-822e-4669-9472-b70495302d4d]: FINISHING"}}
[debug] [2023-06-28T23:44:16.101Z] [worker-us-central1-api-a576511a-822e-4669-9472-b70495302d4d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a576511a-822e-4669-9472-b70495302d4d]: exited"}}
[debug] [2023-06-28T23:44:16.101Z] [worker-us-central1-api-a576511a-822e-4669-9472-b70495302d4d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a576511a-822e-4669-9472-b70495302d4d]: FINISHED"}}
[debug] [2023-06-28T23:44:20.558Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:44:21.560Z] Validating nodejs source
[debug] [2023-06-28T23:44:22.279Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:44:22.279Z] Building nodejs source
[debug] [2023-06-28T23:44:22.279Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:44:22.280Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:44:22.281Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:44:22.517Z] Serving at port 8559

[debug] [2023-06-28T23:44:22.871Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:44:22.871Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:44:22.944Z] Setting up firebase config

[debug] [2023-06-28T23:44:22.945Z] connector initialized

[debug] [2023-06-28T23:44:22.946Z] here in the api

[debug] [2023-06-28T23:44:22.979Z] Initializing file generator

[debug] [2023-06-28T23:44:22.986Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:44:22.991Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:44:36.029Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:44:37.031Z] Validating nodejs source
[debug] [2023-06-28T23:44:37.780Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:44:37.781Z] Building nodejs source
[debug] [2023-06-28T23:44:37.781Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:44:37.782Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:44:37.784Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:44:38.087Z] Serving at port 8763

[debug] [2023-06-28T23:44:38.448Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:44:38.448Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:44:38.521Z] Setting up firebase config

[debug] [2023-06-28T23:44:38.522Z] connector initialized

[debug] [2023-06-28T23:44:38.522Z] here in the api

[debug] [2023-06-28T23:44:38.556Z] Initializing file generator

[debug] [2023-06-28T23:44:38.564Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:44:38.568Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:44:50.774Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:44:51.775Z] Validating nodejs source
[debug] [2023-06-28T23:44:52.544Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:44:52.545Z] Building nodejs source
[debug] [2023-06-28T23:44:52.545Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:44:52.546Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:44:52.547Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:44:52.791Z] Serving at port 8758

[debug] [2023-06-28T23:44:53.147Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:44:53.148Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:44:53.219Z] Setting up firebase config

[debug] [2023-06-28T23:44:53.220Z] connector initialized

[debug] [2023-06-28T23:44:53.221Z] here in the api

[debug] [2023-06-28T23:44:53.255Z] Initializing file generator

[debug] [2023-06-28T23:44:53.262Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:44:53.266Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:45:03.209Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.209Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.310Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.310Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.310Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.310Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.310Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.311Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.311Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.311Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.311Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.311Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.311Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.311Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.312Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.312Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.312Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.312Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.312Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.312Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.312Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:03.312Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:04.315Z] Validating nodejs source
[debug] [2023-06-28T23:45:05.312Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:45:05.312Z] Building nodejs source
[debug] [2023-06-28T23:45:05.313Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:45:05.314Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:45:05.315Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:45:05.624Z] Serving at port 8340

[debug] [2023-06-28T23:45:06.162Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:45:06.162Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:45:06.297Z] Setting up firebase config

[debug] [2023-06-28T23:45:06.298Z] connector initialized

[debug] [2023-06-28T23:45:06.298Z] here in the api

[debug] [2023-06-28T23:45:06.377Z] Initializing file generator

[debug] [2023-06-28T23:45:06.384Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:45:06.388Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:45:09.030Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:45:09.030Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:45:09.030Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:45:09.030Z"],"workRunningCount":1}
[debug] [2023-06-28T23:45:09.030Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-28T23:45:09.045Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:45:09.046Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-28T23:45:09.046Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-28T23:45:09.054Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-28T23:45:09.054Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-28T23:45:10.625Z] [runtime-status] [8098] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8098] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:45:10.626Z] [runtime-status] [8098] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8098] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:45:10.626Z] [runtime-status] [8098] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8098] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-28T23:45:10.627Z] [runtime-status] [8098] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8098] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-28T23:45:10.628Z] [runtime-status] [8098] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8098] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:45:10.841Z] [runtime-status] [8098] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8098] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-28T23:45:10.842Z] [runtime-status] [8098] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8098] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-28T23:45:10.842Z] [runtime-status] [8098] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8098] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:45:10.844Z] [runtime-status] [8098] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8098] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:45:10.845Z] [runtime-status] [8098] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8098] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:45:10.846Z] [runtime-status] [8098] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8098] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-28T23:45:11.163Z] [runtime-status] [8098] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8098] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-28T23:45:11.163Z] [runtime-status] [8098] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_f5bbad27ac3d7093.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8098] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_f5bbad27ac3d7093.sock"}}
[debug] [2023-06-28T23:45:11.184Z] [worker-us-central1-api-79435ff2-fd77-44e7-a97e-5b9c8c5078b3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-79435ff2-fd77-44e7-a97e-5b9c8c5078b3]: IDLE"}}
[debug] [2023-06-28T23:45:11.184Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:45:11.185Z] [worker-us-central1-api-79435ff2-fd77-44e7-a97e-5b9c8c5078b3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-79435ff2-fd77-44e7-a97e-5b9c8c5078b3]: BUSY"}}
[info] >  No project with id: xdHHllJjUqJx3j7BnNSX found. {"user":"No project with id: xdHHllJjUqJx3j7BnNSX found.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m No project with id: xdHHllJjUqJx3j7BnNSX found."}}
[debug] [2023-06-28T23:45:12.354Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1168.636436ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1168.636436ms"}}
[debug] [2023-06-28T23:45:12.354Z] [worker-us-central1-api-79435ff2-fd77-44e7-a97e-5b9c8c5078b3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-79435ff2-fd77-44e7-a97e-5b9c8c5078b3]: IDLE"}}
[debug] [2023-06-28T23:45:12.354Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:45:12.355Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:45:12.355Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:45:34.868Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.868Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.869Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.869Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.869Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.869Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.869Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.869Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.869Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.870Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.870Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.870Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.870Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.870Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.870Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.871Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.871Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.871Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.871Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.871Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.871Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:34.871Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:35.873Z] Validating nodejs source
[debug] [2023-06-28T23:45:36.798Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:45:36.799Z] Building nodejs source
[debug] [2023-06-28T23:45:36.799Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:45:36.800Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:45:36.802Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:45:37.183Z] Serving at port 8674

[debug] [2023-06-28T23:45:37.711Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:45:37.711Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:45:37.822Z] Setting up firebase config

[debug] [2023-06-28T23:45:37.823Z] connector initialized

[debug] [2023-06-28T23:45:37.823Z] here in the api

[debug] [2023-06-28T23:45:37.885Z] Initializing file generator

[debug] [2023-06-28T23:45:37.892Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:45:37.898Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:45:37.908Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-28T23:45:37.908Z] [worker-us-central1-api-79435ff2-fd77-44e7-a97e-5b9c8c5078b3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-79435ff2-fd77-44e7-a97e-5b9c8c5078b3]: FINISHING"}}
[debug] [2023-06-28T23:45:37.921Z] [worker-us-central1-api-79435ff2-fd77-44e7-a97e-5b9c8c5078b3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-79435ff2-fd77-44e7-a97e-5b9c8c5078b3]: exited"}}
[debug] [2023-06-28T23:45:37.922Z] [worker-us-central1-api-79435ff2-fd77-44e7-a97e-5b9c8c5078b3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-79435ff2-fd77-44e7-a97e-5b9c8c5078b3]: FINISHED"}}
[debug] [2023-06-28T23:45:44.670Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:45:45.671Z] Validating nodejs source
[debug] [2023-06-28T23:45:46.549Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:45:46.549Z] Building nodejs source
[debug] [2023-06-28T23:45:46.550Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:45:46.551Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:45:46.552Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:45:46.798Z] Serving at port 8005

[debug] [2023-06-28T23:45:47.168Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:45:47.168Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:45:47.241Z] Setting up firebase config

[debug] [2023-06-28T23:45:47.242Z] connector initialized

[debug] [2023-06-28T23:45:47.242Z] here in the api

[debug] [2023-06-28T23:45:47.297Z] Initializing file generator

[debug] [2023-06-28T23:45:47.307Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:45:47.311Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:45:53.879Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.879Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.880Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.880Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.880Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.880Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.880Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.880Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.880Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.881Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.881Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.881Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.881Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.881Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.881Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.881Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.882Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.882Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.882Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.882Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.882Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:45:53.882Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-28T23:45:54.883Z] Validating nodejs source
[debug] [2023-06-28T23:45:55.616Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:45:55.617Z] Building nodejs source
[debug] [2023-06-28T23:45:55.617Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:45:55.622Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:45:55.623Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:45:55.858Z] Serving at port 8188

[debug] [2023-06-28T23:45:56.221Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:45:56.221Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:45:56.296Z] Setting up firebase config

[debug] [2023-06-28T23:45:56.296Z] connector initialized

[debug] [2023-06-28T23:45:56.297Z] here in the api

[debug] [2023-06-28T23:45:56.330Z] Initializing file generator

[debug] [2023-06-28T23:45:56.337Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:45:56.341Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:46:06.219Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:46:06.219Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:46:06.219Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:46:06.219Z"],"workRunningCount":1}
[debug] [2023-06-28T23:46:06.219Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-28T23:46:06.234Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:46:06.234Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-28T23:46:06.234Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-28T23:46:06.240Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-28T23:46:06.240Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-28T23:46:07.827Z] [runtime-status] [8126] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8126] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:46:07.828Z] [runtime-status] [8126] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8126] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:46:07.829Z] [runtime-status] [8126] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8126] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-28T23:46:07.829Z] [runtime-status] [8126] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8126] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-28T23:46:07.830Z] [runtime-status] [8126] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8126] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:46:08.043Z] [runtime-status] [8126] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8126] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-28T23:46:08.043Z] [runtime-status] [8126] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8126] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-28T23:46:08.044Z] [runtime-status] [8126] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8126] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:46:08.045Z] [runtime-status] [8126] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8126] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:46:08.047Z] [runtime-status] [8126] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8126] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:46:08.047Z] [runtime-status] [8126] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8126] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-28T23:46:08.373Z] [runtime-status] [8126] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8126] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-28T23:46:08.373Z] [runtime-status] [8126] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_df5a1ee5bdc0d14f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8126] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_df5a1ee5bdc0d14f.sock"}}
[debug] [2023-06-28T23:46:08.469Z] [worker-us-central1-api-dbf6b0d6-2bbe-4824-831b-89beb12bd1e9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dbf6b0d6-2bbe-4824-831b-89beb12bd1e9]: IDLE"}}
[debug] [2023-06-28T23:46:08.470Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:46:08.470Z] [worker-us-central1-api-dbf6b0d6-2bbe-4824-831b-89beb12bd1e9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dbf6b0d6-2bbe-4824-831b-89beb12bd1e9]: BUSY"}}
[info] >  node:internal/process/promises:288 {"user":"node:internal/process/promises:288","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m node:internal/process/promises:288"}}
[info] >              triggerUncaughtException(err, true /* fromPromise */); {"user":"            triggerUncaughtException(err, true /* fromPromise */);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             triggerUncaughtException(err, true /* fromPromise */);"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  [FirebaseError: Function setDoc() called with invalid data. Data must be an object, but it was: an array (found in document projects/quT3WuLttKVa1gCxGCXw)] { {"user":"[FirebaseError: Function setDoc() called with invalid data. Data must be an object, but it was: an array (found in document projects/quT3WuLttKVa1gCxGCXw)] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m [FirebaseError: Function setDoc() called with invalid data. Data must be an object, but it was: an array (found in document projects/quT3WuLttKVa1gCxGCXw)] {"}}
[info] >    code: 'invalid-argument', {"user":"  code: 'invalid-argument',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'invalid-argument',"}}
[info] >    customData: undefined, {"user":"  customData: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   customData: undefined,"}}
[info] >    toString: [Function (anonymous)] {"user":"  toString: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   toString: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.0.0 {"user":"Node.js v18.0.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.0.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-06-28T23:46:09.420Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:46:09.420Z] [worker-us-central1-api-dbf6b0d6-2bbe-4824-831b-89beb12bd1e9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dbf6b0d6-2bbe-4824-831b-89beb12bd1e9]: exited"}}
[debug] [2023-06-28T23:46:09.420Z] [worker-us-central1-api-dbf6b0d6-2bbe-4824-831b-89beb12bd1e9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dbf6b0d6-2bbe-4824-831b-89beb12bd1e9]: FINISHED"}}
[debug] [2023-06-28T23:47:17.041Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:47:18.042Z] Validating nodejs source
[debug] [2023-06-28T23:47:18.805Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:47:18.805Z] Building nodejs source
[debug] [2023-06-28T23:47:18.806Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:47:18.806Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:47:18.808Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:47:19.090Z] Serving at port 8500

[debug] [2023-06-28T23:47:19.451Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:47:19.451Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:47:19.526Z] Setting up firebase config

[debug] [2023-06-28T23:47:19.527Z] connector initialized

[debug] [2023-06-28T23:47:19.527Z] here in the api

[debug] [2023-06-28T23:47:19.563Z] Initializing file generator

[debug] [2023-06-28T23:47:19.570Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:47:19.574Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:47:29.467Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:47:29.567Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:47:30.568Z] Validating nodejs source
[debug] [2023-06-28T23:47:31.318Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:47:31.318Z] Building nodejs source
[debug] [2023-06-28T23:47:31.318Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:47:31.319Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:47:31.320Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:47:31.586Z] Serving at port 8196

[debug] [2023-06-28T23:47:31.982Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:47:31.982Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:47:32.070Z] Setting up firebase config

[debug] [2023-06-28T23:47:32.071Z] connector initialized

[debug] [2023-06-28T23:47:32.072Z] here in the api

[debug] [2023-06-28T23:47:32.111Z] Initializing file generator

[debug] [2023-06-28T23:47:32.118Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:47:32.122Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:47:38.196Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.196Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.197Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.197Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.197Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.197Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.197Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.197Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.198Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.198Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.198Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.198Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.198Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.198Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.198Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.199Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.199Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.199Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.199Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.199Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.199Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:47:38.199Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-28T23:47:39.200Z] Validating nodejs source
[debug] [2023-06-28T23:47:39.945Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:47:39.945Z] Building nodejs source
[debug] [2023-06-28T23:47:39.945Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:47:39.946Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:47:39.947Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:47:40.196Z] Serving at port 8383

[debug] [2023-06-28T23:47:40.548Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:47:40.549Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:47:40.619Z] Setting up firebase config

[debug] [2023-06-28T23:47:40.620Z] connector initialized

[debug] [2023-06-28T23:47:40.621Z] here in the api

[debug] [2023-06-28T23:47:40.655Z] Initializing file generator

[debug] [2023-06-28T23:47:40.661Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:47:40.666Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:47:51.659Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:47:51.659Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:47:51.659Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-28T23:47:51.659Z"],"workRunningCount":1}
[debug] [2023-06-28T23:47:51.659Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-28T23:47:51.672Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:47:51.673Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-28T23:47:51.673Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-28T23:47:51.679Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-28T23:47:51.679Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-28T23:47:52.695Z] [runtime-status] [8179] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8179] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:47:52.696Z] [runtime-status] [8179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8179] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:47:52.697Z] [runtime-status] [8179] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8179] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-28T23:47:52.697Z] [runtime-status] [8179] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8179] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-28T23:47:52.698Z] [runtime-status] [8179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8179] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:47:52.913Z] [runtime-status] [8179] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8179] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-28T23:47:52.913Z] [runtime-status] [8179] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8179] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-28T23:47:52.914Z] [runtime-status] [8179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8179] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:47:52.915Z] [runtime-status] [8179] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8179] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:47:52.917Z] [runtime-status] [8179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8179] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:47:52.917Z] [runtime-status] [8179] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8179] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-28T23:47:53.243Z] [runtime-status] [8179] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8179] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-28T23:47:53.244Z] [runtime-status] [8179] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_2f890a196ca98f72.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8179] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_2f890a196ca98f72.sock"}}
[debug] [2023-06-28T23:47:53.303Z] [worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: IDLE"}}
[debug] [2023-06-28T23:47:53.304Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:47:53.305Z] [worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: BUSY"}}
[info] >  No project with id: tEhSGX4JoXryxizOgoPz found. {"user":"No project with id: tEhSGX4JoXryxizOgoPz found.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m No project with id: tEhSGX4JoXryxizOgoPz found."}}
[debug] [2023-06-28T23:47:54.792Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1486.9864360000001ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1486.9864360000001ms"}}
[debug] [2023-06-28T23:47:54.792Z] [worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: IDLE"}}
[debug] [2023-06-28T23:47:54.792Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:47:54.792Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:47:54.792Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:48:26.357Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:48:26.357Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:48:26.357Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:48:26.357Z"],"workRunningCount":1}
[debug] [2023-06-28T23:48:26.358Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-28T23:48:26.370Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:48:26.371Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-28T23:48:26.371Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:48:26.371Z] [worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: BUSY"}}
[debug] [2023-06-28T23:48:26.625Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 253.936708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 253.936708ms"}}
[debug] [2023-06-28T23:48:26.625Z] [worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: IDLE"}}
[debug] [2023-06-28T23:48:26.625Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:48:26.626Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:48:26.626Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:49:18.573Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:49:19.575Z] Validating nodejs source
[debug] [2023-06-28T23:49:20.453Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:49:20.453Z] Building nodejs source
[debug] [2023-06-28T23:49:20.453Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:49:20.454Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:49:20.457Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:49:20.720Z] Serving at port 8587

[debug] [2023-06-28T23:49:21.160Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:49:21.160Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:49:21.243Z] Setting up firebase config

[debug] [2023-06-28T23:49:21.244Z] connector initialized

[debug] [2023-06-28T23:49:21.244Z] here in the api

[debug] [2023-06-28T23:49:21.284Z] Initializing file generator

[debug] [2023-06-28T23:49:21.292Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:49:21.297Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:49:21.310Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-28T23:49:21.311Z] [worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: FINISHING"}}
[debug] [2023-06-28T23:49:21.323Z] [worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: exited"}}
[debug] [2023-06-28T23:49:21.323Z] [worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fa906520-84c3-439e-8dea-23536de11c96]: FINISHED"}}
[debug] [2023-06-28T23:49:29.369Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.369Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.370Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.370Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.370Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.370Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.370Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.370Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.470Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.470Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.471Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.471Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.471Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.471Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.471Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.471Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.471Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.472Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.472Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.472Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.472Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:49:29.472Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-28T23:49:30.474Z] Validating nodejs source
[debug] [2023-06-28T23:49:31.283Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:49:31.283Z] Building nodejs source
[debug] [2023-06-28T23:49:31.283Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:49:31.284Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:49:31.285Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:49:31.518Z] Serving at port 8404

[debug] [2023-06-28T23:49:31.866Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:49:31.866Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:49:31.937Z] Setting up firebase config

[debug] [2023-06-28T23:49:31.937Z] connector initialized

[debug] [2023-06-28T23:49:31.938Z] here in the api

[debug] [2023-06-28T23:49:31.972Z] Initializing file generator

[debug] [2023-06-28T23:49:31.979Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:49:31.983Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:49:33.045Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:49:33.045Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:49:33.045Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:49:33.045Z"],"workRunningCount":1}
[debug] [2023-06-28T23:49:33.045Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-28T23:49:33.058Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:49:33.059Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-28T23:49:33.059Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-28T23:49:33.065Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-28T23:49:33.065Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-28T23:49:34.051Z] [runtime-status] [8218] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8218] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:49:34.053Z] [runtime-status] [8218] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8218] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:49:34.053Z] [runtime-status] [8218] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8218] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-28T23:49:34.054Z] [runtime-status] [8218] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8218] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-28T23:49:34.055Z] [runtime-status] [8218] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8218] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:49:34.266Z] [runtime-status] [8218] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8218] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-28T23:49:34.266Z] [runtime-status] [8218] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8218] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-28T23:49:34.267Z] [runtime-status] [8218] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8218] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:49:34.268Z] [runtime-status] [8218] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8218] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:49:34.270Z] [runtime-status] [8218] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8218] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:49:34.271Z] [runtime-status] [8218] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8218] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-28T23:49:34.596Z] [runtime-status] [8218] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8218] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-28T23:49:34.596Z] [runtime-status] [8218] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_fa75fbce1914b57c.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8218] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_fa75fbce1914b57c.sock"}}
[debug] [2023-06-28T23:49:34.685Z] [worker-us-central1-api-fecb6bd6-ad9c-462d-82c8-87b00d405e82]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fecb6bd6-ad9c-462d-82c8-87b00d405e82]: IDLE"}}
[debug] [2023-06-28T23:49:34.685Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:49:34.685Z] [worker-us-central1-api-fecb6bd6-ad9c-462d-82c8-87b00d405e82]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fecb6bd6-ad9c-462d-82c8-87b00d405e82]: BUSY"}}
[debug] [2023-06-28T23:49:35.316Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 630.938212ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 630.938212ms"}}
[debug] [2023-06-28T23:49:35.317Z] [worker-us-central1-api-fecb6bd6-ad9c-462d-82c8-87b00d405e82]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fecb6bd6-ad9c-462d-82c8-87b00d405e82]: IDLE"}}
[debug] [2023-06-28T23:49:35.317Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:49:35.317Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:49:35.317Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:51:36.020Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:51:37.022Z] Validating nodejs source
[debug] [2023-06-28T23:51:37.866Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:51:37.867Z] Building nodejs source
[debug] [2023-06-28T23:51:37.867Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:51:37.868Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:51:37.868Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:51:37.870Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:51:38.167Z] Serving at port 8934

[debug] [2023-06-28T23:51:38.660Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:51:38.660Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:51:38.732Z] Setting up firebase config

[debug] [2023-06-28T23:51:38.733Z] connector initialized

[debug] [2023-06-28T23:51:38.734Z] here in the api

[debug] [2023-06-28T23:51:38.768Z] Initializing file generator

[debug] [2023-06-28T23:51:38.774Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:51:38.779Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:51:38.790Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-28T23:51:38.790Z] [worker-us-central1-api-fecb6bd6-ad9c-462d-82c8-87b00d405e82]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fecb6bd6-ad9c-462d-82c8-87b00d405e82]: FINISHING"}}
[debug] [2023-06-28T23:51:38.799Z] [worker-us-central1-api-fecb6bd6-ad9c-462d-82c8-87b00d405e82]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fecb6bd6-ad9c-462d-82c8-87b00d405e82]: exited"}}
[debug] [2023-06-28T23:51:38.799Z] [worker-us-central1-api-fecb6bd6-ad9c-462d-82c8-87b00d405e82]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fecb6bd6-ad9c-462d-82c8-87b00d405e82]: FINISHED"}}
[debug] [2023-06-28T23:51:38.871Z] Validating nodejs source
[debug] [2023-06-28T23:51:39.856Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:51:39.856Z] Building nodejs source
[debug] [2023-06-28T23:51:39.856Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:51:39.857Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:51:39.858Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:51:40.118Z] Serving at port 8668

[debug] [2023-06-28T23:51:40.498Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:51:40.498Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:51:40.570Z] Setting up firebase config

[debug] [2023-06-28T23:51:40.571Z] connector initialized

[debug] [2023-06-28T23:51:40.571Z] here in the api

[debug] [2023-06-28T23:51:40.605Z] Initializing file generator

[debug] [2023-06-28T23:51:40.612Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:51:40.616Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:51:48.172Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.172Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.173Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.173Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.173Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.173Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.273Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.273Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.273Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.274Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.274Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.274Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.274Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.274Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.274Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.274Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.275Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.275Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.275Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.275Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.275Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:51:48.275Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-28T23:51:49.278Z] Validating nodejs source
[debug] [2023-06-28T23:51:50.121Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:51:50.121Z] Building nodejs source
[debug] [2023-06-28T23:51:50.121Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:51:50.124Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:51:50.126Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:51:50.359Z] Serving at port 8933

[debug] [2023-06-28T23:51:50.707Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:51:50.707Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:51:50.777Z] Setting up firebase config

[debug] [2023-06-28T23:51:50.778Z] connector initialized

[debug] [2023-06-28T23:51:50.779Z] here in the api

[debug] [2023-06-28T23:51:50.813Z] Initializing file generator

[debug] [2023-06-28T23:51:50.819Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:51:50.828Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:51:57.121Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:51:57.121Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:51:57.121Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:51:57.121Z"],"workRunningCount":1}
[debug] [2023-06-28T23:51:57.121Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-28T23:51:57.135Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:51:57.135Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-28T23:51:57.135Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-28T23:51:57.141Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-28T23:51:57.141Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-28T23:51:58.165Z] [runtime-status] [8265] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8265] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:51:58.166Z] [runtime-status] [8265] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8265] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:51:58.166Z] [runtime-status] [8265] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8265] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-28T23:51:58.167Z] [runtime-status] [8265] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8265] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-28T23:51:58.168Z] [runtime-status] [8265] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8265] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:51:58.424Z] [runtime-status] [8265] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8265] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-28T23:51:58.424Z] [runtime-status] [8265] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8265] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-28T23:51:58.425Z] [runtime-status] [8265] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8265] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:51:58.426Z] [runtime-status] [8265] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8265] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:51:58.429Z] [runtime-status] [8265] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8265] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:51:58.430Z] [runtime-status] [8265] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8265] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-28T23:51:58.779Z] [runtime-status] [8265] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8265] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-28T23:51:58.779Z] [runtime-status] [8265] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_14c67f2661da8bb5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8265] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_14c67f2661da8bb5.sock"}}
[debug] [2023-06-28T23:51:58.864Z] [worker-us-central1-api-2b1d878d-7221-4604-896b-58fc953859fc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b1d878d-7221-4604-896b-58fc953859fc]: IDLE"}}
[debug] [2023-06-28T23:51:58.865Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:51:58.866Z] [worker-us-central1-api-2b1d878d-7221-4604-896b-58fc953859fc]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b1d878d-7221-4604-896b-58fc953859fc]: BUSY"}}
[info] >  files { {"user":"files {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m files {"}}
[info] >    name: 'testProject4', {"user":"  name: 'testProject4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'testProject4',"}}
[info] >    children: [], {"user":"  children: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   children: [],"}}
[info] >    type: 'folder', {"user":"  type: 'folder',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'folder',"}}
[info] >    id: 'tEhSGX4JoXryxizOgoPz' {"user":"  id: 'tEhSGX4JoXryxizOgoPz'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'tEhSGX4JoXryxizOgoPz'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-28T23:51:59.666Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 800.266649ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 800.266649ms"}}
[debug] [2023-06-28T23:51:59.667Z] [worker-us-central1-api-2b1d878d-7221-4604-896b-58fc953859fc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b1d878d-7221-4604-896b-58fc953859fc]: IDLE"}}
[debug] [2023-06-28T23:51:59.667Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:51:59.667Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:51:59.667Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:52:14.564Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-28T23:52:15.565Z] Validating nodejs source
[debug] [2023-06-28T23:52:16.340Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:52:16.340Z] Building nodejs source
[debug] [2023-06-28T23:52:16.340Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:52:16.341Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:52:16.342Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:52:16.651Z] Serving at port 8406

[debug] [2023-06-28T23:52:17.223Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:52:17.223Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:52:17.305Z] Setting up firebase config

[debug] [2023-06-28T23:52:17.306Z] connector initialized

[debug] [2023-06-28T23:52:17.306Z] here in the api

[debug] [2023-06-28T23:52:17.345Z] Initializing file generator

[debug] [2023-06-28T23:52:17.351Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:52:17.363Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:52:17.389Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-28T23:52:17.389Z] [worker-us-central1-api-2b1d878d-7221-4604-896b-58fc953859fc]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b1d878d-7221-4604-896b-58fc953859fc]: FINISHING"}}
[debug] [2023-06-28T23:52:17.399Z] [worker-us-central1-api-2b1d878d-7221-4604-896b-58fc953859fc]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b1d878d-7221-4604-896b-58fc953859fc]: exited"}}
[debug] [2023-06-28T23:52:17.399Z] [worker-us-central1-api-2b1d878d-7221-4604-896b-58fc953859fc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b1d878d-7221-4604-896b-58fc953859fc]: FINISHED"}}
[debug] [2023-06-28T23:52:26.120Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.120Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.120Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.120Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.120Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.120Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.121Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.121Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.121Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.121Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.121Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.121Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.121Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.122Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.122Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.122Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.122Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.122Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.122Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.122Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.122Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-28T23:52:26.122Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-28T23:52:27.123Z] Validating nodejs source
[debug] [2023-06-28T23:52:27.885Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-28T23:52:27.885Z] Building nodejs source
[debug] [2023-06-28T23:52:27.885Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-28T23:52:27.887Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-28T23:52:27.888Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-28T23:52:28.119Z] Serving at port 8102

[debug] [2023-06-28T23:52:28.465Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-28T23:52:28.465Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-28T23:52:28.536Z] Setting up firebase config

[debug] [2023-06-28T23:52:28.537Z] connector initialized

[debug] [2023-06-28T23:52:28.538Z] here in the api

[debug] [2023-06-28T23:52:28.571Z] Initializing file generator

[debug] [2023-06-28T23:52:28.577Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-28T23:52:28.581Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-28T23:52:29.695Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:52:29.695Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-28T23:52:29.695Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-28T23:52:29.695Z"],"workRunningCount":1}
[debug] [2023-06-28T23:52:29.695Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-28T23:52:29.709Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-28T23:52:29.709Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-28T23:52:29.709Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-28T23:52:29.715Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-28T23:52:29.716Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-28T23:52:30.709Z] [runtime-status] [8291] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8291] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:52:30.710Z] [runtime-status] [8291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:52:30.710Z] [runtime-status] [8291] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8291] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-28T23:52:30.711Z] [runtime-status] [8291] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8291] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-28T23:52:30.712Z] [runtime-status] [8291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:52:30.926Z] [runtime-status] [8291] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8291] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-28T23:52:30.926Z] [runtime-status] [8291] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8291] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-28T23:52:30.927Z] [runtime-status] [8291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:52:30.928Z] [runtime-status] [8291] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8291] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-28T23:52:30.930Z] [runtime-status] [8291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-28T23:52:30.930Z] [runtime-status] [8291] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8291] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-28T23:52:31.256Z] [runtime-status] [8291] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8291] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-28T23:52:31.257Z] [runtime-status] [8291] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_90f2d1af71398f20.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8291] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_90f2d1af71398f20.sock"}}
[debug] [2023-06-28T23:52:31.339Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: IDLE"}}
[debug] [2023-06-28T23:52:31.340Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-28T23:52:31.340Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: BUSY"}}
[info] >  adding to root {"user":"adding to root","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m adding to root"}}
[warn] ⚠  External network resource requested!
   - URL: "https://api.notion.com/v1/pages"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://api.notion.com/v1/pages\"\n - Be careful, this may be a production service."}}
[info] >  Added page: { {"user":"Added page: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Added page: {"}}
[info] >    name: 'file2', {"user":"  name: 'file2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'file2',"}}
[info] >    id: '69fd3150-89e1-41ae-8bec-c26c484af1d6', {"user":"  id: '69fd3150-89e1-41ae-8bec-c26c484af1d6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: '69fd3150-89e1-41ae-8bec-c26c484af1d6',"}}
[info] >    type: 'file', {"user":"  type: 'file',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'file',"}}
[info] >    content: '' {"user":"  content: ''","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   content: ''"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-28T23:52:34.641Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3301.373336ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3301.373336ms"}}
[debug] [2023-06-28T23:52:34.642Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: IDLE"}}
[debug] [2023-06-28T23:52:34.642Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-28T23:52:34.642Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-28T23:52:34.642Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:13:27.216Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:13:27.216Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:13:27.216Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:13:27.216Z"],"workRunningCount":1}
[debug] [2023-06-29T00:13:27.216Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T00:13:27.230Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:13:27.230Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T00:13:27.230Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:13:27.231Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: BUSY"}}
[info] >  { Error: 'Page name already exists, no duplicates please' } {"user":"{ Error: 'Page name already exists, no duplicates please' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m { Error: 'Page name already exists, no duplicates please' }"}}
[debug] [2023-06-29T00:13:28.231Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1000.235817ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1000.235817ms"}}
[debug] [2023-06-29T00:13:28.231Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: IDLE"}}
[debug] [2023-06-29T00:13:28.231Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:13:28.231Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:13:28.231Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:13:44.458Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pageActions-2023-06-29T00:13:44.458Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:13:44.458Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pageActions-2023-06-29T00:13:44.458Z"],"workRunningCount":1}
[debug] [2023-06-29T00:13:44.458Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pageActions --> us-central1-api
[debug] [2023-06-29T00:13:44.472Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:13:44.472Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pageActions, mapping to path=/notion_manager/pageActions {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pageActions, mapping to path=/notion_manager/pageActions"}}
[debug] [2023-06-29T00:13:44.472Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:13:44.472Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: BUSY"}}
[debug] [2023-06-29T00:13:44.738Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 266.453986ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 266.453986ms"}}
[debug] [2023-06-29T00:13:44.739Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: IDLE"}}
[debug] [2023-06-29T00:13:44.739Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:13:44.739Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:13:44.739Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:14:56.244Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T00:14:56.244Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:14:56.245Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T00:14:56.244Z"],"workRunningCount":1}
[debug] [2023-06-29T00:14:56.245Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-29T00:14:56.258Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:14:56.258Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-29T00:14:56.258Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:14:56.259Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: BUSY"}}
[info] >  adding to root {"user":"adding to root","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m adding to root"}}
[info] >  Added page: { {"user":"Added page: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Added page: {"}}
[info] >    name: 'file2', {"user":"  name: 'file2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'file2',"}}
[info] >    id: 'a2ac0342-e514-4226-9a9b-f36a0c3a6311', {"user":"  id: 'a2ac0342-e514-4226-9a9b-f36a0c3a6311',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'a2ac0342-e514-4226-9a9b-f36a0c3a6311',"}}
[info] >    type: 'file', {"user":"  type: 'file',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'file',"}}
[info] >    content: '' {"user":"  content: ''","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   content: ''"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T00:14:57.481Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1222.268819ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1222.268819ms"}}
[debug] [2023-06-29T00:14:57.482Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: IDLE"}}
[debug] [2023-06-29T00:14:57.482Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:14:57.482Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:14:57.482Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:16:23.302Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:16:23.302Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:16:23.302Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:16:23.302Z"],"workRunningCount":1}
[debug] [2023-06-29T00:16:23.302Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T00:16:23.317Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:16:23.317Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T00:16:23.317Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:16:23.318Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: BUSY"}}
[info] >  No project with id: VTJCqxCzVBM2X5bO8o5n found. {"user":"No project with id: VTJCqxCzVBM2X5bO8o5n found.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m No project with id: VTJCqxCzVBM2X5bO8o5n found."}}
[debug] [2023-06-29T00:16:24.141Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 823.832735ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 823.832735ms"}}
[debug] [2023-06-29T00:16:24.142Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: IDLE"}}
[debug] [2023-06-29T00:16:24.143Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:16:24.143Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:16:24.143Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:16:33.653Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:16:33.653Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:16:33.653Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:16:33.653Z"],"workRunningCount":1}
[debug] [2023-06-29T00:16:33.653Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T00:16:33.666Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:16:33.667Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T00:16:33.668Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:16:33.668Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: BUSY"}}
[info] >  No project with id: coNbjChjVAEud7DZ6Z4Q found. {"user":"No project with id: coNbjChjVAEud7DZ6Z4Q found.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m No project with id: coNbjChjVAEud7DZ6Z4Q found."}}
[debug] [2023-06-29T00:16:34.260Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 592.306203ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 592.306203ms"}}
[debug] [2023-06-29T00:16:34.260Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: IDLE"}}
[debug] [2023-06-29T00:16:34.261Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:16:34.261Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:16:34.261Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:17:16.406Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:17:17.478Z] Validating nodejs source
[debug] [2023-06-29T00:17:18.424Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:17:18.424Z] Building nodejs source
[debug] [2023-06-29T00:17:18.424Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:17:18.425Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:17:18.426Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:17:18.763Z] Serving at port 8019

[debug] [2023-06-29T00:17:19.358Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:17:19.358Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:17:19.496Z] Setting up firebase config

[debug] [2023-06-29T00:17:19.497Z] connector initialized

[debug] [2023-06-29T00:17:19.498Z] here in the api

[debug] [2023-06-29T00:17:19.574Z] Initializing file generator

[debug] [2023-06-29T00:17:19.580Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:17:19.587Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:17:19.599Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-29T00:17:19.599Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: FINISHING"}}
[debug] [2023-06-29T00:17:19.611Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: exited"}}
[debug] [2023-06-29T00:17:19.611Z] [worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf82307-8d06-421f-8fdc-05ad95fc0d11]: FINISHED"}}
[debug] [2023-06-29T00:17:31.669Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.669Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.669Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.669Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.670Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.670Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.670Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.670Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.670Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.670Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.670Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.670Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.670Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.671Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.671Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.671Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.671Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.671Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.671Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.671Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.672Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:17:31.672Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-29T00:17:32.675Z] Validating nodejs source
[debug] [2023-06-29T00:17:33.603Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:17:33.603Z] Building nodejs source
[debug] [2023-06-29T00:17:33.604Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:17:33.605Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:17:33.606Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:17:33.894Z] Serving at port 8529

[debug] [2023-06-29T00:17:34.402Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:17:34.402Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:17:34.533Z] Setting up firebase config

[debug] [2023-06-29T00:17:34.534Z] connector initialized

[debug] [2023-06-29T00:17:34.535Z] here in the api

[debug] [2023-06-29T00:17:34.606Z] Initializing file generator

[debug] [2023-06-29T00:17:34.613Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:17:34.622Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:17:35.178Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:17:35.178Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:17:35.178Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:17:35.178Z"],"workRunningCount":1}
[debug] [2023-06-29T00:17:35.178Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T00:17:35.193Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:17:35.194Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T00:17:35.194Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-29T00:17:35.201Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-29T00:17:35.201Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-29T00:17:36.986Z] [runtime-status] [8700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T00:17:36.987Z] [runtime-status] [8700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:17:36.987Z] [runtime-status] [8700] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8700] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-29T00:17:36.988Z] [runtime-status] [8700] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8700] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-29T00:17:36.989Z] [runtime-status] [8700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:17:37.205Z] [runtime-status] [8700] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8700] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-29T00:17:37.206Z] [runtime-status] [8700] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8700] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-29T00:17:37.206Z] [runtime-status] [8700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:17:37.208Z] [runtime-status] [8700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T00:17:37.210Z] [runtime-status] [8700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:17:37.210Z] [runtime-status] [8700] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8700] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-29T00:17:37.543Z] [runtime-status] [8700] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8700] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-29T00:17:37.543Z] [runtime-status] [8700] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_c85ce327002f7405.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8700] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_c85ce327002f7405.sock"}}
[debug] [2023-06-29T00:17:37.626Z] [worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: IDLE"}}
[debug] [2023-06-29T00:17:37.627Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:17:37.627Z] [worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: BUSY"}}
[info] >  { Error: 'Page name already exists, no duplicates please' } {"user":"{ Error: 'Page name already exists, no duplicates please' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m { Error: 'Page name already exists, no duplicates please' }"}}
[debug] [2023-06-29T00:17:38.936Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1309.380016ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1309.380016ms"}}
[debug] [2023-06-29T00:17:38.937Z] [worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: IDLE"}}
[debug] [2023-06-29T00:17:38.937Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:17:38.937Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:17:38.937Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:19:14.350Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:19:14.350Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:19:14.350Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:19:14.350Z"],"workRunningCount":1}
[debug] [2023-06-29T00:19:14.350Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T00:19:14.363Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:19:14.363Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T00:19:14.363Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:19:14.363Z] [worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: BUSY"}}
[info] >  { Error: 'Page name already exists, no duplicates please' } {"user":"{ Error: 'Page name already exists, no duplicates please' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m { Error: 'Page name already exists, no duplicates please' }"}}
[debug] [2023-06-29T00:19:15.140Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 776.685796ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 776.685796ms"}}
[debug] [2023-06-29T00:19:15.140Z] [worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: IDLE"}}
[debug] [2023-06-29T00:19:15.141Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:19:15.141Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:19:15.141Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:19:19.395Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:19:19.395Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:19:19.395Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:19:19.395Z"],"workRunningCount":1}
[debug] [2023-06-29T00:19:19.395Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T00:19:19.408Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:19:19.408Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T00:19:19.408Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:19:19.408Z] [worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: BUSY"}}
[info] >  { Error: 'Page name already exists, no duplicates please' } {"user":"{ Error: 'Page name already exists, no duplicates please' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m { Error: 'Page name already exists, no duplicates please' }"}}
[debug] [2023-06-29T00:19:19.905Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 496.752124ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 496.752124ms"}}
[debug] [2023-06-29T00:19:19.905Z] [worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: IDLE"}}
[debug] [2023-06-29T00:19:19.905Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:19:19.905Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:19:19.905Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:21:39.491Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:21:40.493Z] Validating nodejs source
[debug] [2023-06-29T00:21:41.354Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:21:41.355Z] Building nodejs source
[debug] [2023-06-29T00:21:41.355Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:21:41.356Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:21:41.357Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:21:41.628Z] Serving at port 8764

[debug] [2023-06-29T00:21:41.987Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:21:41.988Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:21:42.060Z] Setting up firebase config

[debug] [2023-06-29T00:21:42.061Z] connector initialized

[debug] [2023-06-29T00:21:42.061Z] here in the api

[debug] [2023-06-29T00:21:42.095Z] Initializing file generator

[debug] [2023-06-29T00:21:42.102Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:21:42.107Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:21:42.118Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-29T00:21:42.118Z] [worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: FINISHING"}}
[debug] [2023-06-29T00:21:42.127Z] [worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: exited"}}
[debug] [2023-06-29T00:21:42.128Z] [worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c3ab651d-ca95-4143-9ffc-7c5d8f9a5805]: FINISHED"}}
[debug] [2023-06-29T00:21:44.481Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:21:45.482Z] Validating nodejs source
[debug] [2023-06-29T00:21:46.247Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:21:46.248Z] Building nodejs source
[debug] [2023-06-29T00:21:46.248Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:21:46.249Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:21:46.251Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:21:46.598Z] Serving at port 8796

[debug] [2023-06-29T00:21:47.094Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:21:47.094Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:21:47.169Z] Setting up firebase config

[debug] [2023-06-29T00:21:47.170Z] connector initialized

[debug] [2023-06-29T00:21:47.172Z] here in the api

[debug] [2023-06-29T00:21:47.207Z] Initializing file generator

[debug] [2023-06-29T00:21:47.214Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:21:47.219Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:21:54.687Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.687Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.788Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.788Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.788Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.788Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.788Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.788Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.789Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.789Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.789Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.789Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.789Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.789Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.789Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.789Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.789Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.790Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.790Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.790Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.790Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:21:54.790Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-29T00:21:55.792Z] Validating nodejs source
[debug] [2023-06-29T00:21:56.646Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:21:56.646Z] Building nodejs source
[debug] [2023-06-29T00:21:56.647Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:21:56.649Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:21:56.650Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:21:56.891Z] Serving at port 8360

[debug] [2023-06-29T00:21:57.246Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:21:57.246Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:21:57.320Z] Setting up firebase config

[debug] [2023-06-29T00:21:57.321Z] connector initialized

[debug] [2023-06-29T00:21:57.321Z] here in the api

[debug] [2023-06-29T00:21:57.357Z] Initializing file generator

[debug] [2023-06-29T00:21:57.364Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:21:57.368Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:21:58.587Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:21:58.587Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:21:58.587Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:21:58.587Z"],"workRunningCount":1}
[debug] [2023-06-29T00:21:58.587Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T00:21:58.602Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:21:58.603Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T00:21:58.603Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-29T00:21:58.609Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-29T00:21:58.609Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-29T00:22:00.177Z] [runtime-status] [8781] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8781] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T00:22:00.178Z] [runtime-status] [8781] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8781] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:22:00.179Z] [runtime-status] [8781] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8781] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-29T00:22:00.179Z] [runtime-status] [8781] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8781] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-29T00:22:00.180Z] [runtime-status] [8781] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8781] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:22:00.397Z] [runtime-status] [8781] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8781] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-29T00:22:00.397Z] [runtime-status] [8781] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8781] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-29T00:22:00.398Z] [runtime-status] [8781] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8781] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:22:00.399Z] [runtime-status] [8781] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8781] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T00:22:00.401Z] [runtime-status] [8781] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8781] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:22:00.401Z] [runtime-status] [8781] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8781] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-29T00:22:00.742Z] [runtime-status] [8781] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8781] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-29T00:22:00.743Z] [runtime-status] [8781] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_44e755b83a2f2091.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8781] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_44e755b83a2f2091.sock"}}
[debug] [2023-06-29T00:22:00.842Z] [worker-us-central1-api-14003e96-d023-4e16-9834-a35ff83e3603]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-14003e96-d023-4e16-9834-a35ff83e3603]: IDLE"}}
[debug] [2023-06-29T00:22:00.842Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:22:00.843Z] [worker-us-central1-api-14003e96-d023-4e16-9834-a35ff83e3603]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-14003e96-d023-4e16-9834-a35ff83e3603]: BUSY"}}
[info] >  Id RLg7LnRcLskZHigml2gS {"user":"Id RLg7LnRcLskZHigml2gS","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Id RLg7LnRcLskZHigml2gS"}}
[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[info] >  No project with id: RLg7LnRcLskZHigml2gS found. {"user":"No project with id: RLg7LnRcLskZHigml2gS found.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m No project with id: RLg7LnRcLskZHigml2gS found."}}
[debug] [2023-06-29T00:22:02.110Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1267.908296ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1267.908296ms"}}
[debug] [2023-06-29T00:22:02.111Z] [worker-us-central1-api-14003e96-d023-4e16-9834-a35ff83e3603]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-14003e96-d023-4e16-9834-a35ff83e3603]: IDLE"}}
[debug] [2023-06-29T00:22:02.111Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:22:02.111Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:22:02.111Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:23:36.310Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:23:36.852Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:23:37.854Z] Validating nodejs source
[debug] [2023-06-29T00:23:38.654Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:23:38.655Z] Building nodejs source
[debug] [2023-06-29T00:23:38.655Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:23:38.656Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:23:38.658Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:23:38.919Z] Serving at port 8162

[debug] [2023-06-29T00:23:39.278Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:23:39.278Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:23:39.349Z] Setting up firebase config

[debug] [2023-06-29T00:23:39.350Z] connector initialized

[debug] [2023-06-29T00:23:39.351Z] here in the api

[debug] [2023-06-29T00:23:39.384Z] Initializing file generator

[debug] [2023-06-29T00:23:39.391Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:23:39.395Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:23:39.407Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-29T00:23:39.407Z] [worker-us-central1-api-14003e96-d023-4e16-9834-a35ff83e3603]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-14003e96-d023-4e16-9834-a35ff83e3603]: FINISHING"}}
[debug] [2023-06-29T00:23:39.416Z] [worker-us-central1-api-14003e96-d023-4e16-9834-a35ff83e3603]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-14003e96-d023-4e16-9834-a35ff83e3603]: exited"}}
[debug] [2023-06-29T00:23:39.416Z] [worker-us-central1-api-14003e96-d023-4e16-9834-a35ff83e3603]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-14003e96-d023-4e16-9834-a35ff83e3603]: FINISHED"}}
[debug] [2023-06-29T00:23:41.847Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:23:42.850Z] Validating nodejs source
[debug] [2023-06-29T00:23:43.719Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:23:43.719Z] Building nodejs source
[debug] [2023-06-29T00:23:43.719Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:23:43.720Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:23:43.722Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:23:44.206Z] Serving at port 8492

[debug] [2023-06-29T00:23:44.559Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:23:44.560Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:23:44.634Z] Setting up firebase config

[debug] [2023-06-29T00:23:44.634Z] connector initialized

[debug] [2023-06-29T00:23:44.635Z] here in the api

[debug] [2023-06-29T00:23:44.671Z] Initializing file generator

[debug] [2023-06-29T00:23:44.682Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:23:44.690Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:23:51.968Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:23:51.968Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.070Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.071Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.071Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.071Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.072Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.072Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.073Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.073Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.073Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.073Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.073Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.073Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.074Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.074Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.074Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.075Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.075Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.075Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.075Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:23:52.075Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-29T00:23:53.076Z] Validating nodejs source
[debug] [2023-06-29T00:23:53.825Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:23:53.826Z] Building nodejs source
[debug] [2023-06-29T00:23:53.826Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:23:53.829Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:23:53.831Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:23:54.091Z] Serving at port 8619

[debug] [2023-06-29T00:23:54.465Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:23:54.465Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:23:54.540Z] Setting up firebase config

[debug] [2023-06-29T00:23:54.541Z] connector initialized

[debug] [2023-06-29T00:23:54.541Z] here in the api

[debug] [2023-06-29T00:23:54.577Z] Initializing file generator

[debug] [2023-06-29T00:23:54.583Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:23:54.588Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:24:05.283Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:24:05.283Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:24:05.283Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:24:05.283Z"],"workRunningCount":1}
[debug] [2023-06-29T00:24:05.283Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T00:24:05.298Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:24:05.298Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T00:24:05.299Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-29T00:24:05.306Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-29T00:24:05.306Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-29T00:24:07.147Z] [runtime-status] [8838] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8838] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T00:24:07.148Z] [runtime-status] [8838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:24:07.149Z] [runtime-status] [8838] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8838] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-29T00:24:07.149Z] [runtime-status] [8838] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8838] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-29T00:24:07.150Z] [runtime-status] [8838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:24:07.411Z] [runtime-status] [8838] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8838] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-29T00:24:07.412Z] [runtime-status] [8838] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8838] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-29T00:24:07.413Z] [runtime-status] [8838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:24:07.414Z] [runtime-status] [8838] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8838] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T00:24:07.416Z] [runtime-status] [8838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:24:07.416Z] [runtime-status] [8838] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8838] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-29T00:24:07.884Z] [runtime-status] [8838] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8838] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-29T00:24:07.884Z] [runtime-status] [8838] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_b4bae8e023d68686.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8838] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_b4bae8e023d68686.sock"}}
[debug] [2023-06-29T00:24:07.942Z] [worker-us-central1-api-f416e896-d232-469e-ad3e-0114e1e56c08]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f416e896-d232-469e-ad3e-0114e1e56c08]: IDLE"}}
[debug] [2023-06-29T00:24:07.942Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:24:07.942Z] [worker-us-central1-api-f416e896-d232-469e-ad3e-0114e1e56c08]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f416e896-d232-469e-ad3e-0114e1e56c08]: BUSY"}}
[info] >  Id Hb6Wrh7dkFZTl0ge5YNK {"user":"Id Hb6Wrh7dkFZTl0ge5YNK","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Id Hb6Wrh7dkFZTl0ge5YNK"}}
[info] >  smnap [Function: data] {"user":"smnap [Function: data]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m smnap [Function: data]"}}
[info] >  No project with id: Hb6Wrh7dkFZTl0ge5YNK found. {"user":"No project with id: Hb6Wrh7dkFZTl0ge5YNK found.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m No project with id: Hb6Wrh7dkFZTl0ge5YNK found."}}
[debug] [2023-06-29T00:24:09.260Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1317.949926ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1317.949926ms"}}
[debug] [2023-06-29T00:24:09.260Z] [worker-us-central1-api-f416e896-d232-469e-ad3e-0114e1e56c08]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f416e896-d232-469e-ad3e-0114e1e56c08]: IDLE"}}
[debug] [2023-06-29T00:24:09.261Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:24:09.261Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:24:09.261Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:24:21.077Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:24:22.078Z] Validating nodejs source
[debug] [2023-06-29T00:24:23.042Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:24:23.042Z] Building nodejs source
[debug] [2023-06-29T00:24:23.042Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:24:23.043Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:24:23.045Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:24:23.296Z] Serving at port 8512

[debug] [2023-06-29T00:24:23.751Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:24:23.751Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:24:23.886Z] Setting up firebase config

[debug] [2023-06-29T00:24:23.888Z] connector initialized

[debug] [2023-06-29T00:24:23.889Z] here in the api

[debug] [2023-06-29T00:24:23.961Z] Initializing file generator

[debug] [2023-06-29T00:24:23.969Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:24:23.976Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:24:23.990Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-29T00:24:23.990Z] [worker-us-central1-api-f416e896-d232-469e-ad3e-0114e1e56c08]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f416e896-d232-469e-ad3e-0114e1e56c08]: FINISHING"}}
[debug] [2023-06-29T00:24:24.002Z] [worker-us-central1-api-f416e896-d232-469e-ad3e-0114e1e56c08]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f416e896-d232-469e-ad3e-0114e1e56c08]: exited"}}
[debug] [2023-06-29T00:24:24.002Z] [worker-us-central1-api-f416e896-d232-469e-ad3e-0114e1e56c08]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f416e896-d232-469e-ad3e-0114e1e56c08]: FINISHED"}}
[debug] [2023-06-29T00:24:30.418Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.418Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.418Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.418Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.419Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.419Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.419Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.419Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.518Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.518Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.518Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.518Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.519Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.519Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.519Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.519Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.519Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.519Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.519Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.520Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.520Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:24:30.520Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-29T00:24:31.522Z] Validating nodejs source
[debug] [2023-06-29T00:24:32.373Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:24:32.373Z] Building nodejs source
[debug] [2023-06-29T00:24:32.373Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:24:32.377Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:24:32.378Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:24:32.610Z] Serving at port 8055

[debug] [2023-06-29T00:24:32.957Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:24:32.957Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:24:33.029Z] Setting up firebase config

[debug] [2023-06-29T00:24:33.030Z] connector initialized

[debug] [2023-06-29T00:24:33.031Z] here in the api

[debug] [2023-06-29T00:24:33.065Z] Initializing file generator

[debug] [2023-06-29T00:24:33.072Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:24:33.076Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:24:33.521Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:24:33.521Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:24:33.521Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:24:33.521Z"],"workRunningCount":1}
[debug] [2023-06-29T00:24:33.521Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T00:24:33.536Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:24:33.536Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T00:24:33.536Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-29T00:24:33.543Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-29T00:24:33.544Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-29T00:24:35.094Z] [runtime-status] [8882] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8882] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T00:24:35.095Z] [runtime-status] [8882] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8882] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:24:35.096Z] [runtime-status] [8882] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8882] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-29T00:24:35.096Z] [runtime-status] [8882] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8882] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-29T00:24:35.097Z] [runtime-status] [8882] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8882] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:24:35.310Z] [runtime-status] [8882] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8882] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-29T00:24:35.310Z] [runtime-status] [8882] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8882] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-29T00:24:35.311Z] [runtime-status] [8882] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8882] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:24:35.312Z] [runtime-status] [8882] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8882] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T00:24:35.314Z] [runtime-status] [8882] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8882] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:24:35.314Z] [runtime-status] [8882] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8882] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-29T00:24:35.648Z] [runtime-status] [8882] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8882] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-29T00:24:35.649Z] [runtime-status] [8882] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_1ba62952292117fe.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8882] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_1ba62952292117fe.sock"}}
[debug] [2023-06-29T00:24:35.671Z] [worker-us-central1-api-1455da3c-9a25-488d-8a41-c12c2da6be04]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1455da3c-9a25-488d-8a41-c12c2da6be04]: IDLE"}}
[debug] [2023-06-29T00:24:35.671Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:24:35.671Z] [worker-us-central1-api-1455da3c-9a25-488d-8a41-c12c2da6be04]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1455da3c-9a25-488d-8a41-c12c2da6be04]: BUSY"}}
[info] >  Id 1bv05RjEmCoDGvGTjUlT {"user":"Id 1bv05RjEmCoDGvGTjUlT","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Id 1bv05RjEmCoDGvGTjUlT"}}
[info] >  smnap {} {"user":"smnap {}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m smnap {}"}}
[info] >  No project with id: 1bv05RjEmCoDGvGTjUlT found. {"user":"No project with id: 1bv05RjEmCoDGvGTjUlT found.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m No project with id: 1bv05RjEmCoDGvGTjUlT found."}}
[debug] [2023-06-29T00:24:36.804Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1132.419008ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1132.419008ms"}}
[debug] [2023-06-29T00:24:36.804Z] [worker-us-central1-api-1455da3c-9a25-488d-8a41-c12c2da6be04]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1455da3c-9a25-488d-8a41-c12c2da6be04]: IDLE"}}
[debug] [2023-06-29T00:24:36.804Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:24:36.804Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:24:36.804Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:27:02.258Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:27:03.260Z] Validating nodejs source
[debug] [2023-06-29T00:27:04.065Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:27:04.065Z] Building nodejs source
[debug] [2023-06-29T00:27:04.066Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:27:04.067Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:27:04.068Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:27:04.444Z] Serving at port 8574

[debug] [2023-06-29T00:27:04.899Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:27:04.899Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:27:04.973Z] Setting up firebase config

[debug] [2023-06-29T00:27:04.974Z] connector initialized

[debug] [2023-06-29T00:27:04.974Z] here in the api

[debug] [2023-06-29T00:27:05.009Z] Initializing file generator

[debug] [2023-06-29T00:27:05.015Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:27:05.020Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:27:05.032Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-29T00:27:05.032Z] [worker-us-central1-api-1455da3c-9a25-488d-8a41-c12c2da6be04]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1455da3c-9a25-488d-8a41-c12c2da6be04]: FINISHING"}}
[debug] [2023-06-29T00:27:05.045Z] [worker-us-central1-api-1455da3c-9a25-488d-8a41-c12c2da6be04]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1455da3c-9a25-488d-8a41-c12c2da6be04]: exited"}}
[debug] [2023-06-29T00:27:05.045Z] [worker-us-central1-api-1455da3c-9a25-488d-8a41-c12c2da6be04]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1455da3c-9a25-488d-8a41-c12c2da6be04]: FINISHED"}}
[debug] [2023-06-29T00:27:10.231Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.231Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.231Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.231Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.232Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.232Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.232Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.232Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.232Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.232Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.232Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.233Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.233Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.233Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.233Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.233Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.233Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.233Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.234Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.234Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.234Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:27:10.234Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-29T00:27:11.236Z] Validating nodejs source
[debug] [2023-06-29T00:27:12.275Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:27:12.276Z] Building nodejs source
[debug] [2023-06-29T00:27:12.276Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:27:12.277Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:27:12.278Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:27:12.516Z] Serving at port 8728

[debug] [2023-06-29T00:27:12.863Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:27:12.863Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:27:12.934Z] Setting up firebase config

[debug] [2023-06-29T00:27:12.935Z] connector initialized

[debug] [2023-06-29T00:27:12.936Z] here in the api

[debug] [2023-06-29T00:27:12.971Z] Initializing file generator

[debug] [2023-06-29T00:27:12.978Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:27:12.982Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:27:14.815Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:27:14.815Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:27:14.815Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:27:14.815Z"],"workRunningCount":1}
[debug] [2023-06-29T00:27:14.815Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T00:27:14.829Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:27:14.829Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T00:27:14.829Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-29T00:27:14.836Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-29T00:27:14.836Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-29T00:27:15.885Z] [runtime-status] [8938] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8938] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T00:27:15.886Z] [runtime-status] [8938] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8938] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:27:15.887Z] [runtime-status] [8938] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8938] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-29T00:27:15.887Z] [runtime-status] [8938] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8938] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-29T00:27:15.888Z] [runtime-status] [8938] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8938] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:27:16.100Z] [runtime-status] [8938] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8938] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-29T00:27:16.101Z] [runtime-status] [8938] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8938] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-29T00:27:16.101Z] [runtime-status] [8938] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8938] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:27:16.103Z] [runtime-status] [8938] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8938] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T00:27:16.105Z] [runtime-status] [8938] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8938] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:27:16.105Z] [runtime-status] [8938] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8938] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-29T00:27:16.428Z] [runtime-status] [8938] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8938] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-29T00:27:16.428Z] [runtime-status] [8938] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_9a08d5b75cc15810.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8938] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_9a08d5b75cc15810.sock"}}
[debug] [2023-06-29T00:27:16.462Z] [worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: IDLE"}}
[debug] [2023-06-29T00:27:16.463Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:27:16.463Z] [worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: BUSY"}}
[info] >  Id wwiWokV6WRAd9g1FLeSH {"user":"Id wwiWokV6WRAd9g1FLeSH","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Id wwiWokV6WRAd9g1FLeSH"}}
[debug] [2023-06-29T00:27:17.415Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 951.93135ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 951.93135ms"}}
[debug] [2023-06-29T00:27:17.415Z] [worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: IDLE"}}
[debug] [2023-06-29T00:27:17.415Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:27:17.415Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:27:17.415Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:27:35.936Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pageActions-2023-06-29T00:27:35.936Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:27:35.936Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pageActions-2023-06-29T00:27:35.936Z"],"workRunningCount":1}
[debug] [2023-06-29T00:27:35.936Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pageActions --> us-central1-api
[debug] [2023-06-29T00:27:35.949Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:27:35.949Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pageActions, mapping to path=/notion_manager/pageActions {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pageActions, mapping to path=/notion_manager/pageActions"}}
[debug] [2023-06-29T00:27:35.949Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:27:35.949Z] [worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: BUSY"}}
[debug] [2023-06-29T00:27:36.272Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 322.713977ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 322.713977ms"}}
[debug] [2023-06-29T00:27:36.272Z] [worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: IDLE"}}
[debug] [2023-06-29T00:27:36.272Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:27:36.272Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:27:36.273Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:33:30.002Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:33:31.002Z] Validating nodejs source
[debug] [2023-06-29T00:33:31.903Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:33:31.903Z] Building nodejs source
[debug] [2023-06-29T00:33:31.903Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:33:31.905Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:33:31.906Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:33:32.146Z] Serving at port 8290

[debug] [2023-06-29T00:33:32.509Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:33:32.509Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:33:32.613Z] Setting up firebase config

[debug] [2023-06-29T00:33:32.613Z] connector initialized

[debug] [2023-06-29T00:33:32.614Z] here in the api

[debug] [2023-06-29T00:33:32.648Z] Initializing file generator

[debug] [2023-06-29T00:33:32.655Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:33:32.664Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:33:32.689Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-29T00:33:32.689Z] [worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: FINISHING"}}
[debug] [2023-06-29T00:33:32.700Z] [worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: exited"}}
[debug] [2023-06-29T00:33:32.700Z] [worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-99ce745d-9fb7-4a27-a1b2-42eceb79b7a0]: FINISHED"}}
[debug] [2023-06-29T00:33:40.813Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:33:40.914Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:33:41.914Z] Validating nodejs source
[debug] [2023-06-29T00:33:42.796Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:33:42.797Z] Building nodejs source
[debug] [2023-06-29T00:33:42.797Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:33:42.798Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:33:42.799Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:33:42.800Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:33:43.058Z] Serving at port 8439

[debug] [2023-06-29T00:33:43.414Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:33:43.414Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:33:43.491Z] Setting up firebase config

[debug] [2023-06-29T00:33:43.492Z] connector initialized

[debug] [2023-06-29T00:33:43.492Z] here in the api

[debug] [2023-06-29T00:33:43.529Z] Initializing file generator

[debug] [2023-06-29T00:33:43.536Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:33:43.541Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:33:43.799Z] Validating nodejs source
[debug] [2023-06-29T00:33:44.575Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:33:44.575Z] Building nodejs source
[debug] [2023-06-29T00:33:44.575Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:33:44.576Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:33:44.577Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:33:44.832Z] Serving at port 8103

[debug] [2023-06-29T00:33:45.183Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:33:45.184Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:33:45.255Z] Setting up firebase config

[debug] [2023-06-29T00:33:45.255Z] connector initialized

[debug] [2023-06-29T00:33:45.256Z] here in the api

[debug] [2023-06-29T00:33:45.288Z] Initializing file generator

[debug] [2023-06-29T00:33:45.295Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:33:45.299Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:34:27.012Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:34:28.013Z] Validating nodejs source
[debug] [2023-06-29T00:34:29.019Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:34:29.019Z] Building nodejs source
[debug] [2023-06-29T00:34:29.019Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:34:29.020Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:34:29.022Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:34:29.315Z] Serving at port 8220

[debug] [2023-06-29T00:34:29.689Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:34:29.690Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:34:29.763Z] Setting up firebase config

[debug] [2023-06-29T00:34:29.763Z] connector initialized

[debug] [2023-06-29T00:34:29.764Z] here in the api

[debug] [2023-06-29T00:34:29.798Z] Initializing file generator

[debug] [2023-06-29T00:34:29.805Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:34:29.814Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:34:40.380Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:34:41.380Z] Validating nodejs source
[debug] [2023-06-29T00:34:42.185Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:34:42.186Z] Building nodejs source
[debug] [2023-06-29T00:34:42.186Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:34:42.187Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:34:42.188Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:34:42.423Z] Serving at port 8461

[debug] [2023-06-29T00:34:42.774Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:34:42.774Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:34:42.852Z] Setting up firebase config
connector initialized
here in the api

[debug] [2023-06-29T00:34:42.889Z] Initializing file generator

[debug] [2023-06-29T00:34:42.897Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:34:42.903Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:34:59.599Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:35:00.600Z] Validating nodejs source
[debug] [2023-06-29T00:35:01.418Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:35:01.419Z] Building nodejs source
[debug] [2023-06-29T00:35:01.419Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:35:01.420Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:35:01.421Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:35:01.687Z] Serving at port 8920

[debug] [2023-06-29T00:35:02.046Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:35:02.046Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:35:02.119Z] Setting up firebase config

[debug] [2023-06-29T00:35:02.120Z] connector initialized

[debug] [2023-06-29T00:35:02.120Z] here in the api

[debug] [2023-06-29T00:35:02.154Z] Initializing file generator

[debug] [2023-06-29T00:35:02.162Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:35:02.166Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:35:07.006Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:35:08.007Z] Validating nodejs source
[debug] [2023-06-29T00:35:08.896Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:35:08.897Z] Building nodejs source
[debug] [2023-06-29T00:35:08.897Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:35:08.898Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:35:08.900Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:35:09.210Z] Serving at port 8017

[debug] [2023-06-29T00:35:09.555Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:35:09.555Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:35:09.627Z] Setting up firebase config

[debug] [2023-06-29T00:35:09.628Z] connector initialized

[debug] [2023-06-29T00:35:09.629Z] here in the api

[debug] [2023-06-29T00:35:09.662Z] Initializing file generator

[debug] [2023-06-29T00:35:09.669Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:35:09.673Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:36:03.910Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:36:04.911Z] Validating nodejs source
[debug] [2023-06-29T00:36:05.655Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:36:05.655Z] Building nodejs source
[debug] [2023-06-29T00:36:05.655Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:36:05.659Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:36:05.661Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:36:05.875Z] Serving at port 8390

[debug] [2023-06-29T00:36:06.228Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:36:06.228Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:36:06.301Z] Setting up firebase config

[debug] [2023-06-29T00:36:06.302Z] connector initialized

[debug] [2023-06-29T00:36:06.303Z] here in the api

[debug] [2023-06-29T00:36:06.337Z] Initializing file generator

[debug] [2023-06-29T00:36:06.344Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:36:06.348Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:36:26.115Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:36:27.117Z] Validating nodejs source
[debug] [2023-06-29T00:36:27.930Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:36:27.931Z] Building nodejs source
[debug] [2023-06-29T00:36:27.931Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:36:27.932Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:36:27.933Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:36:28.180Z] Serving at port 8145

[debug] [2023-06-29T00:36:28.647Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:36:28.647Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:36:28.727Z] Setting up firebase config

[debug] [2023-06-29T00:36:28.728Z] connector initialized

[debug] [2023-06-29T00:36:28.729Z] here in the api

[debug] [2023-06-29T00:36:28.763Z] Initializing file generator

[debug] [2023-06-29T00:36:28.771Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:36:28.775Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:36:53.801Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:36:54.802Z] Validating nodejs source
[debug] [2023-06-29T00:36:55.565Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:36:55.565Z] Building nodejs source
[debug] [2023-06-29T00:36:55.565Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:36:55.566Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:36:55.568Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:36:55.813Z] Serving at port 8752

[debug] [2023-06-29T00:36:56.161Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:36:56.161Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:36:56.232Z] Setting up firebase config

[debug] [2023-06-29T00:36:56.233Z] connector initialized

[debug] [2023-06-29T00:36:56.234Z] here in the api

[debug] [2023-06-29T00:36:56.267Z] Initializing file generator

[debug] [2023-06-29T00:36:56.273Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:36:56.278Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:37:10.182Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:37:11.182Z] Validating nodejs source
[debug] [2023-06-29T00:37:12.047Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:37:12.047Z] Building nodejs source
[debug] [2023-06-29T00:37:12.048Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:37:12.049Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:37:12.050Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:37:12.289Z] Serving at port 8730

[debug] [2023-06-29T00:37:12.679Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:37:12.679Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:37:12.758Z] Setting up firebase config

[debug] [2023-06-29T00:37:12.758Z] connector initialized

[debug] [2023-06-29T00:37:12.759Z] here in the api

[debug] [2023-06-29T00:37:12.793Z] Initializing file generator

[debug] [2023-06-29T00:37:12.800Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:37:12.805Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:37:57.354Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:37:58.355Z] Validating nodejs source
[debug] [2023-06-29T00:37:59.155Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:37:59.155Z] Building nodejs source
[debug] [2023-06-29T00:37:59.155Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:37:59.156Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:37:59.157Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:37:59.404Z] Serving at port 8293

[debug] [2023-06-29T00:37:59.755Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:37:59.756Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:37:59.825Z] Setting up firebase config

[debug] [2023-06-29T00:37:59.826Z] connector initialized

[debug] [2023-06-29T00:37:59.827Z] here in the api

[debug] [2023-06-29T00:37:59.860Z] Initializing file generator

[debug] [2023-06-29T00:37:59.866Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:37:59.871Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:38:04.126Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:38:04.227Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:38:05.228Z] Validating nodejs source
[debug] [2023-06-29T00:38:06.019Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:38:06.020Z] Building nodejs source
[debug] [2023-06-29T00:38:06.020Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:38:06.021Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:38:06.022Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:38:06.254Z] Serving at port 8557

[debug] [2023-06-29T00:38:06.603Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:38:06.604Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:38:06.675Z] Setting up firebase config

[debug] [2023-06-29T00:38:06.676Z] connector initialized

[debug] [2023-06-29T00:38:06.676Z] here in the api

[debug] [2023-06-29T00:38:06.710Z] Initializing file generator

[debug] [2023-06-29T00:38:06.717Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:38:06.721Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:40:24.109Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:40:25.110Z] Validating nodejs source
[debug] [2023-06-29T00:40:25.993Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:40:25.993Z] Building nodejs source
[debug] [2023-06-29T00:40:25.993Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:40:25.994Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:40:25.996Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:40:26.252Z] Serving at port 8227

[debug] [2023-06-29T00:40:26.614Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:40:26.614Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:40:26.686Z] Setting up firebase config

[debug] [2023-06-29T00:40:26.687Z] connector initialized

[debug] [2023-06-29T00:40:26.688Z] here in the api

[debug] [2023-06-29T00:40:26.722Z] Initializing file generator

[debug] [2023-06-29T00:40:26.729Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:40:26.733Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:40:49.792Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:40:50.793Z] Validating nodejs source
[debug] [2023-06-29T00:40:51.913Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:40:51.914Z] Building nodejs source
[debug] [2023-06-29T00:40:51.914Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:40:51.915Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:40:51.916Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:40:52.149Z] Serving at port 8124

[debug] [2023-06-29T00:40:52.499Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:40:52.499Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:40:52.571Z] Setting up firebase config

[debug] [2023-06-29T00:40:52.572Z] connector initialized

[debug] [2023-06-29T00:40:52.572Z] here in the api

[debug] [2023-06-29T00:40:52.609Z] Initializing file generator

[debug] [2023-06-29T00:40:52.615Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:40:52.620Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:43:38.934Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:43:39.936Z] Validating nodejs source
[debug] [2023-06-29T00:43:40.846Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:43:40.847Z] Building nodejs source
[debug] [2023-06-29T00:43:40.847Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:43:40.848Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:43:40.849Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:43:41.084Z] Serving at port 8963

[debug] [2023-06-29T00:43:41.433Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:43:41.433Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:43:41.505Z] Setting up firebase config

[debug] [2023-06-29T00:43:41.506Z] connector initialized

[debug] [2023-06-29T00:43:41.507Z] here in the api

[debug] [2023-06-29T00:43:41.541Z] Initializing file generator

[debug] [2023-06-29T00:43:41.547Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:43:41.552Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:43:46.349Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:43:47.350Z] Validating nodejs source
[debug] [2023-06-29T00:43:48.181Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:43:48.181Z] Building nodejs source
[debug] [2023-06-29T00:43:48.181Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:43:48.182Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:43:48.183Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:43:48.423Z] Serving at port 8769

[debug] [2023-06-29T00:43:48.771Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:43:48.771Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:43:48.843Z] Setting up firebase config

[debug] [2023-06-29T00:43:48.844Z] connector initialized

[debug] [2023-06-29T00:43:48.844Z] here in the api

[debug] [2023-06-29T00:43:48.877Z] Initializing file generator

[debug] [2023-06-29T00:43:48.884Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:43:48.888Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:44:00.570Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:44:00.671Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:44:01.672Z] Validating nodejs source
[debug] [2023-06-29T00:44:02.538Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:44:02.538Z] Building nodejs source
[debug] [2023-06-29T00:44:02.538Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:44:02.539Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:44:02.541Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:44:02.772Z] Serving at port 8585

[debug] [2023-06-29T00:44:03.119Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:44:03.119Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:44:03.189Z] Setting up firebase config

[debug] [2023-06-29T00:44:03.190Z] connector initialized

[debug] [2023-06-29T00:44:03.191Z] here in the api

[debug] [2023-06-29T00:44:03.225Z] Initializing file generator

[debug] [2023-06-29T00:44:03.232Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:44:03.241Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:45:20.196Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:45:21.197Z] Validating nodejs source
[debug] [2023-06-29T00:45:22.135Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:45:22.136Z] Building nodejs source
[debug] [2023-06-29T00:45:22.136Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:45:22.137Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:45:22.138Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:45:22.370Z] Serving at port 8094

[debug] [2023-06-29T00:45:22.722Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:45:22.723Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:45:22.795Z] Setting up firebase config

[debug] [2023-06-29T00:45:22.795Z] connector initialized

[debug] [2023-06-29T00:45:22.796Z] here in the api

[debug] [2023-06-29T00:45:22.830Z] Initializing file generator

[debug] [2023-06-29T00:45:22.837Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:45:22.841Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:47:47.808Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:47:48.810Z] Validating nodejs source
[debug] [2023-06-29T00:47:49.564Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:47:49.564Z] Building nodejs source
[debug] [2023-06-29T00:47:49.564Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:47:49.566Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:47:49.567Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:47:49.811Z] Serving at port 8422

[debug] [2023-06-29T00:47:50.200Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:47:50.200Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:47:50.278Z] Setting up firebase config

[debug] [2023-06-29T00:47:50.278Z] connector initialized

[debug] [2023-06-29T00:47:50.279Z] here in the api

[debug] [2023-06-29T00:47:50.315Z] Initializing file generator

[debug] [2023-06-29T00:47:50.322Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:47:50.326Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:48:01.020Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:48:02.022Z] Validating nodejs source
[debug] [2023-06-29T00:48:02.780Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:48:02.780Z] Building nodejs source
[debug] [2023-06-29T00:48:02.780Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:48:02.781Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:48:02.782Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:48:03.019Z] Serving at port 8270

[debug] [2023-06-29T00:48:03.381Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:48:03.382Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:48:03.457Z] Setting up firebase config

[debug] [2023-06-29T00:48:03.458Z] connector initialized

[debug] [2023-06-29T00:48:03.458Z] here in the api

[debug] [2023-06-29T00:48:03.493Z] Initializing file generator

[debug] [2023-06-29T00:48:03.500Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:48:03.505Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:49:04.126Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:49:05.129Z] Validating nodejs source
[debug] [2023-06-29T00:49:05.937Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:49:05.938Z] Building nodejs source
[debug] [2023-06-29T00:49:05.938Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:49:05.939Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:49:05.940Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:49:06.159Z] Serving at port 8374

[debug] [2023-06-29T00:49:06.508Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:49:06.508Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:49:06.580Z] Setting up firebase config

[debug] [2023-06-29T00:49:06.580Z] connector initialized

[debug] [2023-06-29T00:49:06.581Z] here in the api

[debug] [2023-06-29T00:49:06.614Z] Initializing file generator

[debug] [2023-06-29T00:49:06.621Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:49:06.626Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:49:12.978Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:49:13.980Z] Validating nodejs source
[debug] [2023-06-29T00:49:14.830Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:49:14.831Z] Building nodejs source
[debug] [2023-06-29T00:49:14.831Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:49:14.832Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:49:14.833Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:49:15.065Z] Serving at port 8090

[debug] [2023-06-29T00:49:15.444Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:49:15.444Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:49:15.519Z] Setting up firebase config

[debug] [2023-06-29T00:49:15.520Z] connector initialized

[debug] [2023-06-29T00:49:15.521Z] here in the api

[debug] [2023-06-29T00:49:15.557Z] Initializing file generator

[debug] [2023-06-29T00:49:15.565Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:49:15.569Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:49:42.512Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:49:43.514Z] Validating nodejs source
[debug] [2023-06-29T00:49:44.298Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:49:44.298Z] Building nodejs source
[debug] [2023-06-29T00:49:44.298Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:49:44.299Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:49:44.300Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:49:44.574Z] Serving at port 8889

[debug] [2023-06-29T00:49:44.933Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:49:44.933Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:49:45.010Z] Setting up firebase config

[debug] [2023-06-29T00:49:45.010Z] connector initialized

[debug] [2023-06-29T00:49:45.011Z] here in the api

[debug] [2023-06-29T00:49:45.056Z] Initializing file generator

[debug] [2023-06-29T00:49:45.064Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:49:45.070Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:49:54.262Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:49:54.363Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:49:55.364Z] Validating nodejs source
[debug] [2023-06-29T00:49:56.107Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:49:56.108Z] Building nodejs source
[debug] [2023-06-29T00:49:56.108Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:49:56.109Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:49:56.110Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:49:56.350Z] Serving at port 8744

[debug] [2023-06-29T00:49:56.712Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:49:56.712Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:49:56.783Z] Setting up firebase config

[debug] [2023-06-29T00:49:56.784Z] connector initialized

[debug] [2023-06-29T00:49:56.785Z] here in the api

[debug] [2023-06-29T00:49:56.819Z] Initializing file generator

[debug] [2023-06-29T00:49:56.825Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:49:56.830Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:50:23.356Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:50:24.356Z] Validating nodejs source
[debug] [2023-06-29T00:50:25.184Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:50:25.184Z] Building nodejs source
[debug] [2023-06-29T00:50:25.184Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:50:25.186Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:50:25.187Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:50:25.433Z] Serving at port 8646

[debug] [2023-06-29T00:50:25.462Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:50:25.814Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:50:25.814Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:50:25.886Z] Setting up firebase config

[debug] [2023-06-29T00:50:25.886Z] connector initialized

[debug] [2023-06-29T00:50:25.887Z] here in the api

[debug] [2023-06-29T00:50:25.920Z] Initializing file generator

[debug] [2023-06-29T00:50:25.927Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:50:25.932Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:50:26.463Z] Validating nodejs source
[debug] [2023-06-29T00:50:27.253Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:50:27.253Z] Building nodejs source
[debug] [2023-06-29T00:50:27.253Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:50:27.254Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:50:27.255Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:50:27.536Z] Serving at port 8336

[debug] [2023-06-29T00:50:27.934Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:50:27.935Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:50:28.006Z] Setting up firebase config

[debug] [2023-06-29T00:50:28.007Z] connector initialized

[debug] [2023-06-29T00:50:28.007Z] here in the api

[debug] [2023-06-29T00:50:28.042Z] Initializing file generator

[debug] [2023-06-29T00:50:28.049Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:50:28.053Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:51:55.322Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:51:56.324Z] Validating nodejs source
[debug] [2023-06-29T00:51:57.066Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:51:57.067Z] Building nodejs source
[debug] [2023-06-29T00:51:57.067Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:51:57.068Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:51:57.069Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:51:57.320Z] Serving at port 8649

[debug] [2023-06-29T00:51:57.668Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:51:57.668Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:51:57.738Z] Setting up firebase config

[debug] [2023-06-29T00:51:57.738Z] connector initialized

[debug] [2023-06-29T00:51:57.739Z] here in the api

[debug] [2023-06-29T00:51:57.772Z] Initializing file generator

[debug] [2023-06-29T00:51:57.778Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:51:57.782Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:52:24.929Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:52:25.931Z] Validating nodejs source
[debug] [2023-06-29T00:52:26.839Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:52:26.839Z] Building nodejs source
[debug] [2023-06-29T00:52:26.839Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:52:26.840Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:52:26.841Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:52:27.081Z] Serving at port 8220

[debug] [2023-06-29T00:52:27.427Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:52:27.427Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:52:27.498Z] Setting up firebase config

[debug] [2023-06-29T00:52:27.499Z] connector initialized

[debug] [2023-06-29T00:52:27.500Z] here in the api

[debug] [2023-06-29T00:52:27.532Z] Initializing file generator

[debug] [2023-06-29T00:52:27.539Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:52:27.543Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:52:35.228Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.228Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.228Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.228Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.228Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.228Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.228Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.229Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.229Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.229Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.229Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.229Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.328Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.328Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.328Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.328Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.328Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.329Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.329Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.329Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.329Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:52:35.329Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-29T00:52:36.332Z] Validating nodejs source
[debug] [2023-06-29T00:52:37.278Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:52:37.279Z] Building nodejs source
[debug] [2023-06-29T00:52:37.279Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:52:37.282Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:52:37.283Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:52:37.531Z] Serving at port 8020

[debug] [2023-06-29T00:52:37.876Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:52:37.876Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:52:37.947Z] Setting up firebase config

[debug] [2023-06-29T00:52:37.948Z] connector initialized

[debug] [2023-06-29T00:52:37.948Z] here in the api

[debug] [2023-06-29T00:52:37.982Z] Initializing file generator

[debug] [2023-06-29T00:52:37.988Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:52:37.993Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:52:43.179Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:52:43.179Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:52:43.179Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:52:43.179Z"],"workRunningCount":1}
[debug] [2023-06-29T00:52:43.179Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T00:52:43.194Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:52:43.194Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T00:52:43.194Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-29T00:52:43.201Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-29T00:52:43.201Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-29T00:52:44.797Z] [runtime-status] [9376] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9376] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T00:52:44.799Z] [runtime-status] [9376] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9376] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:52:44.799Z] [runtime-status] [9376] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9376] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-29T00:52:44.799Z] [runtime-status] [9376] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9376] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-29T00:52:44.801Z] [runtime-status] [9376] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9376] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:52:45.015Z] [runtime-status] [9376] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9376] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-29T00:52:45.016Z] [runtime-status] [9376] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9376] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-29T00:52:45.016Z] [runtime-status] [9376] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9376] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:52:45.017Z] [runtime-status] [9376] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9376] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T00:52:45.019Z] [runtime-status] [9376] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9376] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:52:45.020Z] [runtime-status] [9376] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9376] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-29T00:52:45.347Z] [runtime-status] [9376] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9376] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-29T00:52:45.348Z] [runtime-status] [9376] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_c094ad6c94f00109.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9376] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_c094ad6c94f00109.sock"}}
[debug] [2023-06-29T00:52:45.428Z] [worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: IDLE"}}
[debug] [2023-06-29T00:52:45.428Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:52:45.428Z] [worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: BUSY"}}
[info] >  Id NCXekYockeHEQglppglN {"user":"Id NCXekYockeHEQglppglN","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Id NCXekYockeHEQglppglN"}}
[info] >  adding to root {"user":"adding to root","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m adding to root"}}
[warn] ⚠  External network resource requested!
   - URL: "https://api.notion.com/v1/pages"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://api.notion.com/v1/pages\"\n - Be careful, this may be a production service."}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    object: 'page', {"user":"  object: 'page',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   object: 'page',"}}
[info] >    id: 'e9c009a1-8161-4664-956b-bd6bd413c57b', {"user":"  id: 'e9c009a1-8161-4664-956b-bd6bd413c57b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'e9c009a1-8161-4664-956b-bd6bd413c57b',"}}
[info] >    created_time: '2023-06-29T00:52:00.000Z', {"user":"  created_time: '2023-06-29T00:52:00.000Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_time: '2023-06-29T00:52:00.000Z',"}}
[info] >    last_edited_time: '2023-06-29T00:52:00.000Z', {"user":"  last_edited_time: '2023-06-29T00:52:00.000Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_edited_time: '2023-06-29T00:52:00.000Z',"}}
[info] >    created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' }, {"user":"  created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },"}}
[info] >    last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' }, {"user":"  last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },"}}
[info] >    cover: null, {"user":"  cover: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   cover: null,"}}
[info] >    icon: null, {"user":"  icon: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   icon: null,"}}
[info] >    parent: { {"user":"  parent: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   parent: {"}}
[info] >      type: 'database_id', {"user":"    type: 'database_id',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'database_id',"}}
[info] >      database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67' {"user":"    database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    archived: false, {"user":"  archived: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   archived: false,"}}
[info] >    properties: { {"user":"  properties: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   properties: {"}}
[info] >      Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] }, {"user":"    Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] },"}}
[info] >      Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] }, {"user":"    Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] },"}}
[info] >      Name: { id: 'title', type: 'title', title: [Array] } {"user":"    Name: { id: 'title', type: 'title', title: [Array] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Name: { id: 'title', type: 'title', title: [Array] }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    url: 'https://www.notion.so/testProasfasfafsfject4-e9c009a181614664956bbd6bd413c57b', {"user":"  url: 'https://www.notion.so/testProasfasfafsfject4-e9c009a181614664956bbd6bd413c57b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   url: 'https://www.notion.so/testProasfasfafsfject4-e9c009a181614664956bbd6bd413c57b',"}}
[info] >    public_url: null {"user":"  public_url: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   public_url: null"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T00:52:46.840Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1411.633345ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1411.633345ms"}}
[debug] [2023-06-29T00:52:46.840Z] [worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: IDLE"}}
[debug] [2023-06-29T00:52:46.840Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:52:46.840Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:52:46.840Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:53:32.079Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:53:32.079Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:53:32.079Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:53:32.079Z"],"workRunningCount":1}
[debug] [2023-06-29T00:53:32.079Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T00:53:32.093Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:53:32.093Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T00:53:32.093Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:53:32.093Z] [worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: BUSY"}}
[info] >  Id 5SJEYlXaarwvuzsz7XME {"user":"Id 5SJEYlXaarwvuzsz7XME","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Id 5SJEYlXaarwvuzsz7XME"}}
[info] >  adding to root {"user":"adding to root","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m adding to root"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    object: 'page', {"user":"  object: 'page',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   object: 'page',"}}
[info] >    id: '608cd940-e658-487d-a5b3-bf710b463a33', {"user":"  id: '608cd940-e658-487d-a5b3-bf710b463a33',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: '608cd940-e658-487d-a5b3-bf710b463a33',"}}
[info] >    created_time: '2023-06-29T00:53:00.000Z', {"user":"  created_time: '2023-06-29T00:53:00.000Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_time: '2023-06-29T00:53:00.000Z',"}}
[info] >    last_edited_time: '2023-06-29T00:53:00.000Z', {"user":"  last_edited_time: '2023-06-29T00:53:00.000Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_edited_time: '2023-06-29T00:53:00.000Z',"}}
[info] >    created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' }, {"user":"  created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },"}}
[info] >    last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' }, {"user":"  last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },"}}
[info] >    cover: null, {"user":"  cover: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   cover: null,"}}
[info] >    icon: null, {"user":"  icon: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   icon: null,"}}
[info] >    parent: { {"user":"  parent: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   parent: {"}}
[info] >      type: 'database_id', {"user":"    type: 'database_id',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'database_id',"}}
[info] >      database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67' {"user":"    database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    archived: false, {"user":"  archived: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   archived: false,"}}
[info] >    properties: { {"user":"  properties: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   properties: {"}}
[info] >      Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] }, {"user":"    Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] },"}}
[info] >      Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] }, {"user":"    Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] },"}}
[info] >      Name: { id: 'title', type: 'title', title: [Array] } {"user":"    Name: { id: 'title', type: 'title', title: [Array] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Name: { id: 'title', type: 'title', title: [Array] }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    url: 'https://www.notion.so/testProasfasfafsfject4-608cd940e658487da5b3bf710b463a33', {"user":"  url: 'https://www.notion.so/testProasfasfafsfject4-608cd940e658487da5b3bf710b463a33',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   url: 'https://www.notion.so/testProasfasfafsfject4-608cd940e658487da5b3bf710b463a33',"}}
[info] >    public_url: null {"user":"  public_url: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   public_url: null"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T00:53:35.894Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3801.168083ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3801.168083ms"}}
[debug] [2023-06-29T00:53:35.895Z] [worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: IDLE"}}
[debug] [2023-06-29T00:53:35.895Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:53:35.895Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:53:35.895Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:53:48.495Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:53:48.494Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:53:48.495Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:53:48.494Z"],"workRunningCount":1}
[debug] [2023-06-29T00:53:48.495Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T00:53:48.508Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:53:48.509Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T00:53:48.509Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:53:48.509Z] [worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: BUSY"}}
[info] >  Id iPXQCdN31Z5oqaTfOFib {"user":"Id iPXQCdN31Z5oqaTfOFib","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Id iPXQCdN31Z5oqaTfOFib"}}
[info] >  adding to root {"user":"adding to root","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m adding to root"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    object: 'page', {"user":"  object: 'page',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   object: 'page',"}}
[info] >    id: '0ac77d65-6b4e-428b-a6f7-497cc4de0539', {"user":"  id: '0ac77d65-6b4e-428b-a6f7-497cc4de0539',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: '0ac77d65-6b4e-428b-a6f7-497cc4de0539',"}}
[info] >    created_time: '2023-06-29T00:53:00.000Z', {"user":"  created_time: '2023-06-29T00:53:00.000Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_time: '2023-06-29T00:53:00.000Z',"}}
[info] >    last_edited_time: '2023-06-29T00:53:00.000Z', {"user":"  last_edited_time: '2023-06-29T00:53:00.000Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_edited_time: '2023-06-29T00:53:00.000Z',"}}
[info] >    created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' }, {"user":"  created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },"}}
[info] >    last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' }, {"user":"  last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },"}}
[info] >    cover: null, {"user":"  cover: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   cover: null,"}}
[info] >    icon: null, {"user":"  icon: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   icon: null,"}}
[info] >    parent: { {"user":"  parent: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   parent: {"}}
[info] >      type: 'database_id', {"user":"    type: 'database_id',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'database_id',"}}
[info] >      database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67' {"user":"    database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    archived: false, {"user":"  archived: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   archived: false,"}}
[info] >    properties: { {"user":"  properties: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   properties: {"}}
[info] >      Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] }, {"user":"    Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] },"}}
[info] >      Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] }, {"user":"    Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] },"}}
[info] >      Name: { id: 'title', type: 'title', title: [Array] } {"user":"    Name: { id: 'title', type: 'title', title: [Array] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Name: { id: 'title', type: 'title', title: [Array] }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    url: 'https://www.notion.so/test-project-0ac77d656b4e428ba6f7497cc4de0539', {"user":"  url: 'https://www.notion.so/test-project-0ac77d656b4e428ba6f7497cc4de0539',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   url: 'https://www.notion.so/test-project-0ac77d656b4e428ba6f7497cc4de0539',"}}
[info] >    public_url: null {"user":"  public_url: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   public_url: null"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T00:53:50.096Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1586.758915ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1586.758915ms"}}
[debug] [2023-06-29T00:53:50.096Z] [worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: IDLE"}}
[debug] [2023-06-29T00:53:50.096Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:53:50.096Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:53:50.096Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:55:29.065Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T00:55:29.065Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:55:29.065Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T00:55:29.065Z"],"workRunningCount":1}
[debug] [2023-06-29T00:55:29.065Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-29T00:55:29.078Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:55:29.078Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-29T00:55:29.079Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:55:29.079Z] [worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: BUSY"}}
[info] >  smnap { {"user":"smnap {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m smnap {"}}
[info] >    data: [ {"user":"  data: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   data: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        name: 'test-project', {"user":"      name: 'test-project',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'test-project',"}}
[info] >        id: 'iPXQCdN31Z5oqaTfOFib', {"user":"      id: 'iPXQCdN31Z5oqaTfOFib',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 'iPXQCdN31Z5oqaTfOFib',"}}
[info] >        children: [], {"user":"      children: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       children: [],"}}
[info] >        type: 'root' {"user":"      type: 'root'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'root'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  files [ {"user":"files [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m files ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      name: 'test-project', {"user":"    name: 'test-project',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     name: 'test-project',"}}
[info] >      id: 'iPXQCdN31Z5oqaTfOFib', {"user":"    id: 'iPXQCdN31Z5oqaTfOFib',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'iPXQCdN31Z5oqaTfOFib',"}}
[info] >      children: [], {"user":"    children: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     children: [],"}}
[info] >      type: 'root' {"user":"    type: 'root'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'root'"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[info] >  adding to root {"user":"adding to root","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m adding to root"}}
[info] >  Added page: { {"user":"Added page: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Added page: {"}}
[info] >    name: 'file2', {"user":"  name: 'file2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'file2',"}}
[info] >    id: '8f319e99-82d8-4d75-b86f-e511317f9b35', {"user":"  id: '8f319e99-82d8-4d75-b86f-e511317f9b35',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: '8f319e99-82d8-4d75-b86f-e511317f9b35',"}}
[info] >    type: 'file', {"user":"  type: 'file',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'file',"}}
[info] >    content: '' {"user":"  content: ''","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   content: ''"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T00:55:31.315Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 2236.718523ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2236.718523ms"}}
[debug] [2023-06-29T00:55:31.316Z] [worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: IDLE"}}
[debug] [2023-06-29T00:55:31.316Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:55:31.316Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:55:31.316Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:57:09.030Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T00:57:09.030Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:57:09.030Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T00:57:09.030Z"],"workRunningCount":1}
[debug] [2023-06-29T00:57:09.030Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-29T00:57:09.044Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:57:09.044Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-29T00:57:09.045Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:57:09.045Z] [worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: BUSY"}}
[info] >  smnap { {"user":"smnap {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m smnap {"}}
[info] >    project: [ {"user":"  project: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   project: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        children: [Array], {"user":"      children: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       children: [Array],"}}
[info] >        name: 'test-project', {"user":"      name: 'test-project',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'test-project',"}}
[info] >        id: 'iPXQCdN31Z5oqaTfOFib', {"user":"      id: 'iPXQCdN31Z5oqaTfOFib',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 'iPXQCdN31Z5oqaTfOFib',"}}
[info] >        type: 'root' {"user":"      type: 'root'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'root'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T00:57:09.405Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 360.539229ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 360.539229ms"}}
[debug] [2023-06-29T00:57:09.406Z] [worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: IDLE"}}
[debug] [2023-06-29T00:57:09.406Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:57:09.406Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:57:09.406Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:59:17.905Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T00:59:18.907Z] Validating nodejs source
[debug] [2023-06-29T00:59:19.928Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:59:19.929Z] Building nodejs source
[debug] [2023-06-29T00:59:19.929Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:59:19.930Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:59:19.931Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:59:20.187Z] Serving at port 8851

[debug] [2023-06-29T00:59:20.641Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:59:20.641Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:59:20.729Z] Setting up firebase config

[debug] [2023-06-29T00:59:20.730Z] connector initialized

[debug] [2023-06-29T00:59:20.731Z] here in the api

[debug] [2023-06-29T00:59:20.772Z] Initializing file generator

[debug] [2023-06-29T00:59:20.781Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:59:20.786Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:59:20.800Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-29T00:59:20.800Z] [worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: FINISHING"}}
[debug] [2023-06-29T00:59:20.813Z] [worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: exited"}}
[debug] [2023-06-29T00:59:20.814Z] [worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1a2d9f36-7b63-45bc-a0df-6faf6bf42ccb]: FINISHED"}}
[debug] [2023-06-29T00:59:27.526Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.526Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.526Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.526Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.526Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.527Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.527Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.527Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.527Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.527Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.527Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.527Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.527Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.528Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.528Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.528Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.528Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.528Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.528Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.528Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.528Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-29T00:59:27.528Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-29T00:59:28.530Z] Validating nodejs source
[debug] [2023-06-29T00:59:29.358Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T00:59:29.358Z] Building nodejs source
[debug] [2023-06-29T00:59:29.358Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T00:59:29.359Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T00:59:29.361Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T00:59:29.613Z] Serving at port 8769

[debug] [2023-06-29T00:59:29.981Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T00:59:29.981Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T00:59:30.054Z] Setting up firebase config

[debug] [2023-06-29T00:59:30.055Z] connector initialized

[debug] [2023-06-29T00:59:30.056Z] here in the api

[debug] [2023-06-29T00:59:30.091Z] Initializing file generator

[debug] [2023-06-29T00:59:30.097Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T00:59:30.102Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T00:59:44.953Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:59:44.953Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T00:59:44.953Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T00:59:44.953Z"],"workRunningCount":1}
[debug] [2023-06-29T00:59:44.953Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T00:59:44.969Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T00:59:44.969Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T00:59:44.969Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-29T00:59:44.975Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-29T00:59:44.975Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-29T00:59:46.592Z] [runtime-status] [9493] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9493] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T00:59:46.593Z] [runtime-status] [9493] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9493] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:59:46.593Z] [runtime-status] [9493] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9493] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-29T00:59:46.594Z] [runtime-status] [9493] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9493] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-29T00:59:46.595Z] [runtime-status] [9493] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9493] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:59:46.809Z] [runtime-status] [9493] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9493] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-29T00:59:46.809Z] [runtime-status] [9493] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9493] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-29T00:59:46.810Z] [runtime-status] [9493] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9493] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:59:46.811Z] [runtime-status] [9493] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9493] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T00:59:46.814Z] [runtime-status] [9493] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9493] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T00:59:46.814Z] [runtime-status] [9493] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9493] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-29T00:59:47.134Z] [runtime-status] [9493] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9493] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-29T00:59:47.134Z] [runtime-status] [9493] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_17281c9bd12ac9de.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9493] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_17281c9bd12ac9de.sock"}}
[debug] [2023-06-29T00:59:47.207Z] [worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: IDLE"}}
[debug] [2023-06-29T00:59:47.208Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T00:59:47.208Z] [worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: BUSY"}}
[info] >  Id 2eUUVqokZz3lvp2rSBN5 {"user":"Id 2eUUVqokZz3lvp2rSBN5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Id 2eUUVqokZz3lvp2rSBN5"}}
[info] >  adding to root {"user":"adding to root","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m adding to root"}}
[warn] ⚠  External network resource requested!
   - URL: "https://api.notion.com/v1/pages"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://api.notion.com/v1/pages\"\n - Be careful, this may be a production service."}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    object: 'page', {"user":"  object: 'page',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   object: 'page',"}}
[info] >    id: '78c092e6-ac51-4c65-ac7a-76aa0cee7cb3', {"user":"  id: '78c092e6-ac51-4c65-ac7a-76aa0cee7cb3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: '78c092e6-ac51-4c65-ac7a-76aa0cee7cb3',"}}
[info] >    created_time: '2023-06-29T00:59:00.000Z', {"user":"  created_time: '2023-06-29T00:59:00.000Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_time: '2023-06-29T00:59:00.000Z',"}}
[info] >    last_edited_time: '2023-06-29T00:59:00.000Z', {"user":"  last_edited_time: '2023-06-29T00:59:00.000Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_edited_time: '2023-06-29T00:59:00.000Z',"}}
[info] >    created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' }, {"user":"  created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },"}}
[info] >    last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' }, {"user":"  last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },"}}
[info] >    cover: null, {"user":"  cover: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   cover: null,"}}
[info] >    icon: null, {"user":"  icon: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   icon: null,"}}
[info] >    parent: { {"user":"  parent: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   parent: {"}}
[info] >      type: 'database_id', {"user":"    type: 'database_id',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'database_id',"}}
[info] >      database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67' {"user":"    database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    archived: false, {"user":"  archived: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   archived: false,"}}
[info] >    properties: { {"user":"  properties: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   properties: {"}}
[info] >      Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] }, {"user":"    Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] },"}}
[info] >      Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] }, {"user":"    Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] },"}}
[info] >      Name: { id: 'title', type: 'title', title: [Array] } {"user":"    Name: { id: 'title', type: 'title', title: [Array] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Name: { id: 'title', type: 'title', title: [Array] }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    url: 'https://www.notion.so/test-project-78c092e6ac514c65ac7a76aa0cee7cb3', {"user":"  url: 'https://www.notion.so/test-project-78c092e6ac514c65ac7a76aa0cee7cb3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   url: 'https://www.notion.so/test-project-78c092e6ac514c65ac7a76aa0cee7cb3',"}}
[info] >    public_url: null {"user":"  public_url: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   public_url: null"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T00:59:49.261Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 2053.477783ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2053.477783ms"}}
[debug] [2023-06-29T00:59:49.262Z] [worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: IDLE"}}
[debug] [2023-06-29T00:59:49.262Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T00:59:49.262Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T00:59:49.262Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:00:16.560Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T01:00:16.560Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:00:16.560Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T01:00:16.560Z"],"workRunningCount":1}
[debug] [2023-06-29T01:00:16.560Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-29T01:00:16.574Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T01:00:16.574Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-29T01:00:16.574Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T01:00:16.574Z] [worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: BUSY"}}
[info] >  smnap undefined {"user":"smnap undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m smnap undefined"}}
[info] >  project doesn't exist {"user":"project doesn't exist","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m project doesn't exist"}}
[debug] [2023-06-29T01:00:16.925Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 350.825928ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 350.825928ms"}}
[debug] [2023-06-29T01:00:16.926Z] [worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: IDLE"}}
[debug] [2023-06-29T01:00:16.926Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T01:00:16.926Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T01:00:16.926Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:00:25.139Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T01:00:25.139Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:00:25.139Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T01:00:25.139Z"],"workRunningCount":1}
[debug] [2023-06-29T01:00:25.139Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-29T01:00:25.153Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T01:00:25.153Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-29T01:00:25.153Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T01:00:25.153Z] [worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: BUSY"}}
[info] >  smnap { {"user":"smnap {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m smnap {"}}
[info] >    data: [ {"user":"  data: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   data: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        id: '2eUUVqokZz3lvp2rSBN5', {"user":"      id: '2eUUVqokZz3lvp2rSBN5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: '2eUUVqokZz3lvp2rSBN5',"}}
[info] >        name: 'test-project', {"user":"      name: 'test-project',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'test-project',"}}
[info] >        type: 'root', {"user":"      type: 'root',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'root',"}}
[info] >        children: [] {"user":"      children: []","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       children: []"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T01:00:25.409Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 257.623979ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 257.623979ms"}}
[debug] [2023-06-29T01:00:25.411Z] [worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: IDLE"}}
[debug] [2023-06-29T01:00:25.411Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T01:00:25.411Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T01:00:25.411Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:00:52.243Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T01:00:52.243Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:00:52.244Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T01:00:52.243Z"],"workRunningCount":1}
[debug] [2023-06-29T01:00:52.244Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T01:00:52.257Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T01:00:52.257Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T01:00:52.257Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T01:00:52.257Z] [worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: BUSY"}}
[info] >  Id UHIFyRl0slhVxd5HYYi9 {"user":"Id UHIFyRl0slhVxd5HYYi9","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Id UHIFyRl0slhVxd5HYYi9"}}
[info] >  adding to root {"user":"adding to root","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m adding to root"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    object: 'page', {"user":"  object: 'page',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   object: 'page',"}}
[info] >    id: 'b3c05554-d218-4aca-be04-5867abdcc94f', {"user":"  id: 'b3c05554-d218-4aca-be04-5867abdcc94f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'b3c05554-d218-4aca-be04-5867abdcc94f',"}}
[info] >    created_time: '2023-06-29T01:00:00.000Z', {"user":"  created_time: '2023-06-29T01:00:00.000Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_time: '2023-06-29T01:00:00.000Z',"}}
[info] >    last_edited_time: '2023-06-29T01:00:00.000Z', {"user":"  last_edited_time: '2023-06-29T01:00:00.000Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_edited_time: '2023-06-29T01:00:00.000Z',"}}
[info] >    created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' }, {"user":"  created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },"}}
[info] >    last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' }, {"user":"  last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },"}}
[info] >    cover: null, {"user":"  cover: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   cover: null,"}}
[info] >    icon: null, {"user":"  icon: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   icon: null,"}}
[info] >    parent: { {"user":"  parent: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   parent: {"}}
[info] >      type: 'database_id', {"user":"    type: 'database_id',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'database_id',"}}
[info] >      database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67' {"user":"    database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    archived: false, {"user":"  archived: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   archived: false,"}}
[info] >    properties: { {"user":"  properties: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   properties: {"}}
[info] >      Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] }, {"user":"    Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] },"}}
[info] >      Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] }, {"user":"    Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] },"}}
[info] >      Name: { id: 'title', type: 'title', title: [Array] } {"user":"    Name: { id: 'title', type: 'title', title: [Array] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Name: { id: 'title', type: 'title', title: [Array] }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    url: 'https://www.notion.so/test-project-b3c05554d2184acabe045867abdcc94f', {"user":"  url: 'https://www.notion.so/test-project-b3c05554d2184acabe045867abdcc94f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   url: 'https://www.notion.so/test-project-b3c05554d2184acabe045867abdcc94f',"}}
[info] >    public_url: null {"user":"  public_url: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   public_url: null"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T01:00:53.923Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1665.525369ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1665.525369ms"}}
[debug] [2023-06-29T01:00:53.923Z] [worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: IDLE"}}
[debug] [2023-06-29T01:00:53.923Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T01:00:53.923Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T01:00:53.923Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:01:33.874Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T01:01:33.874Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:01:33.875Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T01:01:33.874Z"],"workRunningCount":1}
[debug] [2023-06-29T01:01:33.875Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-29T01:01:33.889Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T01:01:33.889Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-29T01:01:33.889Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T01:01:33.889Z] [worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: BUSY"}}
[info] >  smnap { {"user":"smnap {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m smnap {"}}
[info] >    data: [ {"user":"  data: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   data: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        children: [], {"user":"      children: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       children: [],"}}
[info] >        id: '2eUUVqokZz3lvp2rSBN5', {"user":"      id: '2eUUVqokZz3lvp2rSBN5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: '2eUUVqokZz3lvp2rSBN5',"}}
[info] >        type: 'root', {"user":"      type: 'root',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'root',"}}
[info] >        name: 'test-project' {"user":"      name: 'test-project'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'test-project'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T01:01:34.253Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 363.782348ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 363.782348ms"}}
[debug] [2023-06-29T01:01:34.253Z] [worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: IDLE"}}
[debug] [2023-06-29T01:01:34.253Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T01:01:34.253Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T01:01:34.253Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:01:41.517Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T01:01:42.519Z] Validating nodejs source
[debug] [2023-06-29T01:01:43.310Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T01:01:43.310Z] Building nodejs source
[debug] [2023-06-29T01:01:43.310Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T01:01:43.311Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T01:01:43.312Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T01:01:43.547Z] Serving at port 8943

[debug] [2023-06-29T01:01:43.902Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T01:01:43.902Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T01:01:43.975Z] Setting up firebase config

[debug] [2023-06-29T01:01:43.975Z] connector initialized

[debug] [2023-06-29T01:01:43.976Z] here in the api

[debug] [2023-06-29T01:01:44.010Z] Initializing file generator

[debug] [2023-06-29T01:01:44.017Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T01:01:44.022Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T01:01:44.033Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-06-29T01:01:44.033Z] [worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: FINISHING"}}
[debug] [2023-06-29T01:01:44.044Z] [worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: exited"}}
[debug] [2023-06-29T01:01:44.044Z] [worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-537581d2-3aef-44bd-938e-3b9d36cd1c27]: FINISHED"}}
[debug] [2023-06-29T01:02:13.802Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T01:02:14.803Z] Validating nodejs source
[debug] [2023-06-29T01:02:16.515Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T01:02:16.516Z] Building nodejs source
[debug] [2023-06-29T01:02:16.516Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T01:02:16.517Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T01:02:16.518Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T01:02:16.757Z] Serving at port 8335

[debug] [2023-06-29T01:02:17.102Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T01:02:17.102Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T01:02:17.172Z] Setting up firebase config

[debug] [2023-06-29T01:02:17.173Z] connector initialized

[debug] [2023-06-29T01:02:17.174Z] here in the api

[debug] [2023-06-29T01:02:17.206Z] Initializing file generator

[debug] [2023-06-29T01:02:17.213Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T01:02:17.217Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T01:04:18.192Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T01:04:19.193Z] Validating nodejs source
[debug] [2023-06-29T01:04:19.944Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T01:04:19.944Z] Building nodejs source
[debug] [2023-06-29T01:04:19.944Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T01:04:19.945Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T01:04:19.946Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T01:04:20.186Z] Serving at port 8533

[debug] [2023-06-29T01:04:20.540Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T01:04:20.540Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T01:04:20.612Z] Setting up firebase config

[debug] [2023-06-29T01:04:20.613Z] connector initialized

[debug] [2023-06-29T01:04:20.613Z] here in the api

[debug] [2023-06-29T01:04:20.647Z] Initializing file generator

[debug] [2023-06-29T01:04:20.654Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T01:04:20.658Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T01:05:46.110Z] File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/src/services/pageServices.ts changed, reloading triggers"}}
[debug] [2023-06-29T01:05:47.115Z] Validating nodejs source
[debug] [2023-06-29T01:05:47.929Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T01:05:47.930Z] Building nodejs source
[debug] [2023-06-29T01:05:47.930Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T01:05:47.931Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T01:05:47.932Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T01:05:48.181Z] Serving at port 8775

[debug] [2023-06-29T01:05:48.555Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T01:05:48.555Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T01:05:48.627Z] Setting up firebase config

[debug] [2023-06-29T01:05:48.628Z] connector initialized

[debug] [2023-06-29T01:05:48.629Z] here in the api

[debug] [2023-06-29T01:05:48.663Z] Initializing file generator

[debug] [2023-06-29T01:05:48.670Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T01:05:48.674Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T01:05:59.014Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js.map changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.014Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/interfaces.js changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.014Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js.map changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.014Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/codeBlockFunctions.js changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.014Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js.map changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.015Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/notionManager/notion.js changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.015Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js.map changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.016Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/projecthandler/PageTree.js changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.016Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.016Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/blockServices.js changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.016Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js.map changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.016Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/services/pageServices.js changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.016Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js.map changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.017Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/controllers/notionController.js changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.017Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js.map changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.017Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/routes/routes.js changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.017Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js.map changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.017Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/api.js changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.017Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js.map changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.018Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/generateFiles.js changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.018Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2023-06-29T01:05:59.018Z] File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/maxadam/Desktop/Code/notionOS/functions/lib/index.js changed, reloading triggers"}}
[debug] [2023-06-29T01:06:00.020Z] Validating nodejs source
[debug] [2023-06-29T01:06:00.963Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/storage": "^6.11.0",
    "@notionhq/client": "^2.2.5",
    "@types/archiver": "^5.3.2",
    "archiver": "^5.3.1",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase": "^9.23.0",
    "firebase-admin": "^11.9.0",
    "firebase-functions": "^4.4.1",
    "jszip": "^3.10.1",
    "notion-client": "^6.16.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-06-29T01:06:00.963Z] Building nodejs source
[debug] [2023-06-29T01:06:00.963Z] Failed to find version of module node: reached end of search path /Users/maxadam/Desktop/Code/notionOS/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-06-29T01:06:00.964Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-29T01:06:00.965Z] Found firebase-functions binary at '/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/.bin/firebase-functions'
[debug] [2023-06-29T01:06:01.280Z] Serving at port 8040

[debug] [2023-06-29T01:06:01.806Z] Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD

[debug] [2023-06-29T01:06:01.806Z] Database ID: 244fbd2336dc46d5a2612c7dc9609f67

[debug] [2023-06-29T01:06:01.934Z] Setting up firebase config

[debug] [2023-06-29T01:06:01.935Z] connector initialized

[debug] [2023-06-29T01:06:01.936Z] here in the api

[debug] [2023-06-29T01:06:01.997Z] Initializing file generator

[debug] [2023-06-29T01:06:02.004Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"},"generateFiles":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":20,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"generateFiles"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-29T01:06:02.009Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api, generateFiles. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api, generateFiles."}}
[debug] [2023-06-29T01:06:13.815Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T01:06:13.815Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:06:13.815Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/project-2023-06-29T01:06:13.815Z"],"workRunningCount":1}
[debug] [2023-06-29T01:06:13.815Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/project --> us-central1-api
[debug] [2023-06-29T01:06:13.830Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T01:06:13.830Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/project, mapping to path=/notion_manager/project"}}
[debug] [2023-06-29T01:06:13.830Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-06-29T01:06:13.837Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-06-29T01:06:13.837Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-06-29T01:06:15.423Z] [runtime-status] [9586] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9586] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T01:06:15.424Z] [runtime-status] [9586] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9586] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T01:06:15.424Z] [runtime-status] [9586] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9586] Found local functions config: /Users/maxadam/Desktop/Code/notionOS/functions/.runtimeconfig.json"}}
[debug] [2023-06-29T01:06:15.425Z] [runtime-status] [9586] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9586] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-06-29T01:06:15.426Z] [runtime-status] [9586] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9586] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T01:06:15.643Z] [runtime-status] [9586] Checked functions.config() {"config":{"notion":{"token":"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","database_id":"244fbd2336dc46d5a2612c7dc9609f67"},"fb":{"api_key":"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9586] Checked functions.config() {\"config\":{\"notion\":{\"token\":\"secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD\",\"database_id\":\"244fbd2336dc46d5a2612c7dc9609f67\"},\"fb\":{\"api_key\":\"AIzaSyBxFwxDaQjoc-6FJnOHmnKwzYNu6UsrrXY\"}}}"}}
[debug] [2023-06-29T01:06:15.644Z] [runtime-status] [9586] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9586] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-06-29T01:06:15.645Z] [runtime-status] [9586] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9586] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T01:06:15.646Z] [runtime-status] [9586] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9586] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-06-29T01:06:15.648Z] [runtime-status] [9586] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9586] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-06-29T01:06:15.648Z] [runtime-status] [9586] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.9.0","resolution":"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9586] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.9.0\",\"resolution\":\"/Users/maxadam/Desktop/Code/notionOS/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD {"user":"Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Notion token: secret_AbmXiGrw7QSeX3SsTGB8vAELrSFB1b4eIVtii7TTkMD"}}
[info] >  Database ID: 244fbd2336dc46d5a2612c7dc9609f67 {"user":"Database ID: 244fbd2336dc46d5a2612c7dc9609f67","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Database ID: 244fbd2336dc46d5a2612c7dc9609f67"}}
[info] >  Setting up firebase config {"user":"Setting up firebase config","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Setting up firebase config"}}
[info] >  connector initialized {"user":"connector initialized","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m connector initialized"}}
[info] >  here in the api {"user":"here in the api","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m here in the api"}}
[info] >  Initializing file generator {"user":"Initializing file generator","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Initializing file generator"}}
[debug] [2023-06-29T01:06:15.986Z] [runtime-status] [9586] Functions runtime initialized. {"cwd":"/Users/maxadam/Desktop/Code/notionOS/functions","node_version":"18.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9586] Functions runtime initialized. {\"cwd\":\"/Users/maxadam/Desktop/Code/notionOS/functions\",\"node_version\":\"18.0.0\"}"}}
[debug] [2023-06-29T01:06:15.987Z] [runtime-status] [9586] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_7414d446a701aacd.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9586] Listening to port: /var/folders/q_/sys0lmm9567_nr7sq_0m31jh0000gp/T/fire_emu_7414d446a701aacd.sock"}}
[debug] [2023-06-29T01:06:16.065Z] [worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: IDLE"}}
[debug] [2023-06-29T01:06:16.066Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T01:06:16.068Z] [worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: BUSY"}}
[info] >  Id iN6C4LCcliFMAu3FLjwE {"user":"Id iN6C4LCcliFMAu3FLjwE","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Id iN6C4LCcliFMAu3FLjwE"}}
[info] >  adding to root {"user":"adding to root","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m adding to root"}}
[warn] ⚠  External network resource requested!
   - URL: "https://api.notion.com/v1/pages"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://api.notion.com/v1/pages\"\n - Be careful, this may be a production service."}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    object: 'page', {"user":"  object: 'page',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   object: 'page',"}}
[info] >    id: 'bfbe08ef-8e1c-4205-8740-8de8282ee018', {"user":"  id: 'bfbe08ef-8e1c-4205-8740-8de8282ee018',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'bfbe08ef-8e1c-4205-8740-8de8282ee018',"}}
[info] >    created_time: '2023-06-29T01:06:00.000Z', {"user":"  created_time: '2023-06-29T01:06:00.000Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_time: '2023-06-29T01:06:00.000Z',"}}
[info] >    last_edited_time: '2023-06-29T01:06:00.000Z', {"user":"  last_edited_time: '2023-06-29T01:06:00.000Z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_edited_time: '2023-06-29T01:06:00.000Z',"}}
[info] >    created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' }, {"user":"  created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },"}}
[info] >    last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' }, {"user":"  last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_edited_by: { object: 'user', id: '55789a6c-d44d-4586-9300-d06f7ff61fe3' },"}}
[info] >    cover: null, {"user":"  cover: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   cover: null,"}}
[info] >    icon: null, {"user":"  icon: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   icon: null,"}}
[info] >    parent: { {"user":"  parent: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   parent: {"}}
[info] >      type: 'database_id', {"user":"    type: 'database_id',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'database_id',"}}
[info] >      database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67' {"user":"    database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     database_id: '244fbd23-36dc-46d5-a261-2c7dc9609f67'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    archived: false, {"user":"  archived: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   archived: false,"}}
[info] >    properties: { {"user":"  properties: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   properties: {"}}
[info] >      Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] }, {"user":"    Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Type: { id: 'NJzV', type: 'rich_text', rich_text: [Array] },"}}
[info] >      Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] }, {"user":"    Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Tags: { id: 'aqiC', type: 'multi_select', multi_select: [] },"}}
[info] >      Name: { id: 'title', type: 'title', title: [Array] } {"user":"    Name: { id: 'title', type: 'title', title: [Array] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     Name: { id: 'title', type: 'title', title: [Array] }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    url: 'https://www.notion.so/test-project-bfbe08ef8e1c420587408de8282ee018', {"user":"  url: 'https://www.notion.so/test-project-bfbe08ef8e1c420587408de8282ee018',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   url: 'https://www.notion.so/test-project-bfbe08ef8e1c420587408de8282ee018',"}}
[info] >    public_url: null {"user":"  public_url: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   public_url: null"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T01:06:17.617Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1549.570303ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1549.570303ms"}}
[debug] [2023-06-29T01:06:17.617Z] [worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: IDLE"}}
[debug] [2023-06-29T01:06:17.618Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T01:06:17.618Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T01:06:17.618Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:06:38.317Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T01:06:38.317Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:06:38.317Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T01:06:38.317Z"],"workRunningCount":1}
[debug] [2023-06-29T01:06:38.317Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-29T01:06:38.330Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T01:06:38.330Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-29T01:06:38.330Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T01:06:38.331Z] [worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: BUSY"}}
[info] >  smnap { {"user":"smnap {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m smnap {"}}
[info] >    project: [ {"user":"  project: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   project: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        id: 'iN6C4LCcliFMAu3FLjwE', {"user":"      id: 'iN6C4LCcliFMAu3FLjwE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 'iN6C4LCcliFMAu3FLjwE',"}}
[info] >        name: 'test-project', {"user":"      name: 'test-project',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'test-project',"}}
[info] >        type: 'root', {"user":"      type: 'root',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'root',"}}
[info] >        children: [] {"user":"      children: []","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       children: []"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  files [ {"user":"files [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m files ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'iN6C4LCcliFMAu3FLjwE', {"user":"    id: 'iN6C4LCcliFMAu3FLjwE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'iN6C4LCcliFMAu3FLjwE',"}}
[info] >      name: 'test-project', {"user":"    name: 'test-project',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     name: 'test-project',"}}
[info] >      type: 'root', {"user":"    type: 'root',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'root',"}}
[info] >      children: [] {"user":"    children: []","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     children: []"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[info] >  adding to root {"user":"adding to root","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m adding to root"}}
[info] >  Added page: { {"user":"Added page: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Added page: {"}}
[info] >    name: 'file4', {"user":"  name: 'file4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'file4',"}}
[info] >    id: '23b03d1d-fc44-4d49-b1d4-d76ee5a745c8', {"user":"  id: '23b03d1d-fc44-4d49-b1d4-d76ee5a745c8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: '23b03d1d-fc44-4d49-b1d4-d76ee5a745c8',"}}
[info] >    type: 'file', {"user":"  type: 'file',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'file',"}}
[info] >    content: '' {"user":"  content: ''","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   content: ''"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T01:06:43.894Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5563.779421ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5563.779421ms"}}
[debug] [2023-06-29T01:06:43.894Z] [worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: IDLE"}}
[debug] [2023-06-29T01:06:43.894Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T01:06:43.895Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T01:06:43.895Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:07:01.177Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T01:07:01.177Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:07:01.178Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T01:07:01.177Z"],"workRunningCount":1}
[debug] [2023-06-29T01:07:01.178Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-29T01:07:01.191Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T01:07:01.191Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-29T01:07:01.191Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T01:07:01.191Z] [worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: BUSY"}}
[info] >  smnap { {"user":"smnap {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m smnap {"}}
[info] >    project: [ {"user":"  project: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   project: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        id: 'iN6C4LCcliFMAu3FLjwE', {"user":"      id: 'iN6C4LCcliFMAu3FLjwE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 'iN6C4LCcliFMAu3FLjwE',"}}
[info] >        children: [Array], {"user":"      children: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       children: [Array],"}}
[info] >        type: 'root', {"user":"      type: 'root',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'root',"}}
[info] >        name: 'test-project' {"user":"      name: 'test-project'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'test-project'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  files [ {"user":"files [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m files ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'iN6C4LCcliFMAu3FLjwE', {"user":"    id: 'iN6C4LCcliFMAu3FLjwE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'iN6C4LCcliFMAu3FLjwE',"}}
[info] >      children: [ [Object] ], {"user":"    children: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     children: [ [Object] ],"}}
[info] >      type: 'root', {"user":"    type: 'root',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'root',"}}
[info] >      name: 'test-project' {"user":"    name: 'test-project'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     name: 'test-project'"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[info] >  adding to root {"user":"adding to root","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m adding to root"}}
[info] >  Added page: { {"user":"Added page: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Added page: {"}}
[info] >    name: 'file3', {"user":"  name: 'file3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'file3',"}}
[info] >    id: '616e4d81-f6eb-4321-8cab-8f4fc6006a4e', {"user":"  id: '616e4d81-f6eb-4321-8cab-8f4fc6006a4e',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: '616e4d81-f6eb-4321-8cab-8f4fc6006a4e',"}}
[info] >    type: 'file', {"user":"  type: 'file',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'file',"}}
[info] >    content: '' {"user":"  content: ''","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   content: ''"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T01:07:02.235Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1043.880042ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1043.880042ms"}}
[debug] [2023-06-29T01:07:02.236Z] [worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: IDLE"}}
[debug] [2023-06-29T01:07:02.236Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T01:07:02.236Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T01:07:02.236Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:07:10.820Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T01:07:10.820Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:07:10.820Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T01:07:10.820Z"],"workRunningCount":1}
[debug] [2023-06-29T01:07:10.820Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-29T01:07:10.834Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T01:07:10.834Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-29T01:07:10.834Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T01:07:10.834Z] [worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: BUSY"}}
[info] >  smnap { {"user":"smnap {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m smnap {"}}
[info] >    project: [ {"user":"  project: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   project: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        children: [Array], {"user":"      children: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       children: [Array],"}}
[info] >        name: 'test-project', {"user":"      name: 'test-project',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'test-project',"}}
[info] >        type: 'root', {"user":"      type: 'root',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'root',"}}
[info] >        id: 'iN6C4LCcliFMAu3FLjwE' {"user":"      id: 'iN6C4LCcliFMAu3FLjwE'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 'iN6C4LCcliFMAu3FLjwE'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  files [ {"user":"files [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m files ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      children: [ [Object], [Object] ], {"user":"    children: [ [Object], [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     children: [ [Object], [Object] ],"}}
[info] >      name: 'test-project', {"user":"    name: 'test-project',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     name: 'test-project',"}}
[info] >      type: 'root', {"user":"    type: 'root',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'root',"}}
[info] >      id: 'iN6C4LCcliFMAu3FLjwE' {"user":"    id: 'iN6C4LCcliFMAu3FLjwE'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'iN6C4LCcliFMAu3FLjwE'"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[info] >  adding to root {"user":"adding to root","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m adding to root"}}
[info] >  Added page: { {"user":"Added page: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Added page: {"}}
[info] >    name: 'folder2', {"user":"  name: 'folder2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'folder2',"}}
[info] >    id: '48abd0ef-ff2a-44fd-a754-09f9bd257db7', {"user":"  id: '48abd0ef-ff2a-44fd-a754-09f9bd257db7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: '48abd0ef-ff2a-44fd-a754-09f9bd257db7',"}}
[info] >    type: 'folder', {"user":"  type: 'folder',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'folder',"}}
[info] >    content: '' {"user":"  content: ''","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   content: ''"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T01:07:16.064Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5229.775317ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5229.775317ms"}}
[debug] [2023-06-29T01:07:16.064Z] [worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: IDLE"}}
[debug] [2023-06-29T01:07:16.064Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T01:07:16.064Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T01:07:16.064Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:07:28.742Z] [work-queue] {"queuedWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T01:07:28.741Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-06-29T01:07:28.742Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/v3rv-notionaios/us-central1/api/notion_manager/pages-2023-06-29T01:07:28.741Z"],"workRunningCount":1}
[debug] [2023-06-29T01:07:28.742Z] Accepted request POST /v3rv-notionaios/us-central1/api/notion_manager/pages --> us-central1-api
[debug] [2023-06-29T01:07:28.755Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-06-29T01:07:28.755Z] [functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/v3rv-notionaios/us-central1/api/notion_manager/pages, mapping to path=/notion_manager/pages"}}
[debug] [2023-06-29T01:07:28.755Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-06-29T01:07:28.755Z] [worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: BUSY"}}
[info] >  smnap { {"user":"smnap {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m smnap {"}}
[info] >    project: [ {"user":"  project: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   project: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        children: [Array], {"user":"      children: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       children: [Array],"}}
[info] >        type: 'root', {"user":"      type: 'root',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'root',"}}
[info] >        id: 'iN6C4LCcliFMAu3FLjwE', {"user":"      id: 'iN6C4LCcliFMAu3FLjwE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 'iN6C4LCcliFMAu3FLjwE',"}}
[info] >        name: 'test-project' {"user":"      name: 'test-project'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'test-project'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  files [ {"user":"files [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m files ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      children: [ [Object], [Object], [Object] ], {"user":"    children: [ [Object], [Object], [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     children: [ [Object], [Object], [Object] ],"}}
[info] >      type: 'root', {"user":"    type: 'root',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'root',"}}
[info] >      id: 'iN6C4LCcliFMAu3FLjwE', {"user":"    id: 'iN6C4LCcliFMAu3FLjwE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'iN6C4LCcliFMAu3FLjwE',"}}
[info] >      name: 'test-project' {"user":"    name: 'test-project'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     name: 'test-project'"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[info] >  Added page: { {"user":"Added page: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Added page: {"}}
[info] >    name: 'file5', {"user":"  name: 'file5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'file5',"}}
[info] >    id: '1676f813-08e1-44ba-b800-1ecabd93f89f', {"user":"  id: '1676f813-08e1-44ba-b800-1ecabd93f89f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: '1676f813-08e1-44ba-b800-1ecabd93f89f',"}}
[info] >    type: 'file', {"user":"  type: 'file',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'file',"}}
[info] >    content: '' {"user":"  content: ''","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   content: ''"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-06-29T01:07:42.187Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 13431.856946ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 13431.856946ms"}}
[debug] [2023-06-29T01:07:42.187Z] [worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2646ff0a-8588-43db-bf7f-26462025831e]: IDLE"}}
[debug] [2023-06-29T01:07:42.187Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-06-29T01:07:42.187Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-06-29T01:07:42.187Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
